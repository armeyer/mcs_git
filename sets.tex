% \input{latex-macros/handout-preamble.tex}
% \inhandout{
% \lecturenotes{2}{Sets \& Functions} 
% }

\hyperdef{sets}{informal}{\section{Mathematical Data Types}}

We've been assuming that the concepts of sets, sequences, and functions are
already familiar ones, and we've mentioned them repeatedly.  Now we'll do a
quick review of the definitions.

\iffalse

Propositions of the sort we've considered so far are good for
reasoning about individual statements, but not so good for reasoning
about a collection of objects.  Let's first review a couple
mathematical tools for grouping objects and then extend our logical
language to cope with such collections.
\fi

Informally, a \term{set} is a bunch of objects, which are called the
\term{elements} of the set.  The elements of a set can be just about
anything: numbers, points in space, or even other sets.  The conventional
way to write down a set is to list the elements inside curly-braces.  For
example, here are some sets:
%
\[
\begin{array}{rcll}
%\naturals & = & \set{0, 1, 2, 3, \ldots} & \text{the} \text{nonnegative integers} \\
A & = & \set{\text{Alex}, \text{Tippy}, \text{Shells}, \text{Shadow}} & \text{dead pets} \\
B & = & \set{\text{red}, \text{blue}, \text{yellow}} & \text{primary colors} \\
C & = & \set{ \set{a, b}, \set{a, c}, \set{b, c}} & \text{a set of sets}
\end{array}
\]
This works fine for small finite sets.  Other sets might be defined by
indicating how to generate a list of them:
\begin{align*}
D & =  \set{1,2,4,8,16,\dots} & \text{the powers of 2}
\end{align*}

The order of elements is not significant, so $\set{x, y}$ and $\set{y, x}$
are the same set written two different ways.  Also, any object is, or is
not, an element of a given set ---there is no notion of an element
appearing more than once in a set.\footnote{It's not hard to develop a
notion of \term{multisets} in which elements can occur more than once, but
multisets are not ordinary sets.}  So writing $\set{x,x}$ is just
indicating the same thing twice, namely, that $x$ is in the set.  In
particular, $\set{x,x} = \set{x}$.

The expression $e \in S$ asserts that $e$ is an element of set $S$.  For
example, $32 \in D$ and $\text{blue} \in B$, but $\text{Tailspin}
\not\in A$ ---yet.

Sets are simple, flexible, and everywhere.  You'll find at least one
set mentioned on almost every page in these notes.

\subsection{Some Popular Sets}

Mathematicians have devised special symbols to represent some common
sets.

\begin{center}
\begin{tabular}{lll}
\textbf{symbol} & \textbf{set} & \textbf{elements} \\
$\emptyset$ & the empty set & \text{none}\\
$\naturals$ & nonnegative integers & $\set{0, 1, 2, 3, \ldots}$ \\
$\mathbb{Z}$ & integers & $\set{\ldots, -3, -2, -1, 0, 1, 2, 3, \ldots}$ \\
$\mathbb{Q}$ & rational numbers & $\frac{1}{2},\ -\frac{5}{3},\ 16,\ \text{etc.}$ \\
$\reals$ & real numbers & $\pi,\ e,\ -9,\ \sqrt{2},\ \text{etc.}$ \\
$\complexes$ & complex numbers & $i,\ \frac{19}{2},\ \sqrt{2} - 2i,\ \text{etc.}$
\end{tabular}
\end{center}
%
A superscript ``$^+$'' restricts a set to its positive elements; for
example, $\reals^+$ denotes the set of positive real numbers.  Similarly,
$\reals^-$ denotes the set of negative reals.

\subsection{Comparing and Combining Sets}

The expression $S \subseteq T$ indicates that set $S$ is a \term{subset}
of set $T$, which means that every element of $S$ is also an element of
$T$ (it could be that $S=T$).  For example, $\naturals \subseteq
\mathbb{Z}$ and $\mathbb{Q} \subseteq
\reals$ (every rational number is a real number), but $\complexes
\not\subseteq \mathbb{Z}$ (not every complex number is an integer).

As a memory trick, notice that the $\subseteq$ points to the smaller set,
just like a $\leq$ sign points to the smaller number.  Actually, this
connection goes a little further: there is a symbol $\subset$ analogous to
$<$.  Thus, $S \subset T$ means that $S$ is a subset of $T$, but the two
are \emph{not} equal.  So $A \subseteq A$, but $A \not\subset A$, for
every set $A$.

There are several ways to combine sets.  Let's define a couple of sets for
use in examples:
%
\begin{align*}
X & \eqdef \set{1, 2, 3} \\
Y & \eqdef \set{2, 3, 4}
\end{align*}
%
\begin{itemize}

\item The \textbf{union} of sets $X$ and $Y$ (denoted $X \cup Y$)
contains all elements appearing in $X$ or $Y$ or both.  Thus, $X \cup
Y = \set{1, 2, 3, 4}$.

\item The \textbf{intersection} of $X$ and $Y$ (denoted $X \cap Y$)
consists of all elements that appear in \textit{both} $X$ and $Y$.  So
$X \cap Y = \set{2, 3}$.

\item The \textbf{difference} of $X$ and $Y$ (denoted $X - Y$)
consists of all elements that are in $X$, but not in $Y$.  Therefore,
$X - Y = \set{1}$ and $Y - X = \set{4}$.

\end{itemize}

\subsubsection{Complement of a Set}

Sometimes we are focused on a particular domain, $D$.  Then for any
subset, $A$, of $D$, we define $\overline{A}$ to be the set of all
elements of $D$ \textit{not} in $A$.  That is, $\overline{A} \eqdef D-A$.
The set $\overline{A}$ is called the \term{complement} of $A$.

For example, when the domain we're working with is the real numbers,
the complement of the positive real numbers is the set of negative real
numbers together with zero.  That is,
\[
\overline{\reals^+} = \reals^- \union \set{0}.
\]

It can be helpful to rephrase properties of sets using complements.  For
example, two sets, $A$ and $B$, are aid to be \emph{disjoint} iff they
have no elements in common, that is, $A \intersect B = \emptyset$.  This
is the same as saying that $A$ is a subset of the complement of $B$, that
is, $A \subseteq \overline{B}$.

\subsubsection{Power Set}

The collection of all the subsets of a set, $A$, is called the
\term{power set}, $\power(A)$, of $A$.  So $B \in \power(A)$ iff $B \subseteq
A$.  For example, the elements of $\power( \set{1, 2})$ are $\emptyset,
\set{1}, \set{2}$ and $\set{1, 2}$.

More generally, if $A$ has $n$ elements, then there are $2^n$ sets in
$\power(A)$.  For this reason, some authors use the notation $2^A$ instead
of $\power(A)$.

\subsection{Sequences}

Sets provide one way to group a collection of objects.  Another way is
in a \term{sequence}, which is a list of objects called \term{terms}
or \term{components}.  Short sequences are commonly described by
listing the elements between parentheses; for example, $(a, b, c)$ is
a sequence with three terms.

While both sets and sequences perform a gathering role, there are
several differences.
%
\begin{itemize}

\item The elements of a set are required to be distinct, but terms in a
sequence can be the same.  Thus, $(a, b, a)$ is a valid sequence of length
three, but $\set{a, b, a}$ is a set with two elements ---not three.

\item The terms in a sequence have a specified order, but the elements
of a set do not.  For example, $(a, b, c)$ and $(a, c, b)$ are
different sequences, but $\set{a, b, c}$ and $\set{a, c, b}$ are the
same set.

\item The empty set is usually denoted $\emptyset$.  Texts differ on
  notation for the empty sequence; in 6.042, we use $\lambda$ for the
  empty sequence.
\end{itemize}

The product operation is one link between sets and sequences.  A
\term{product} of sets, $S_1 \times S_2 \times \cdots \times S_n$, is a
new set consisting of all sequences where the first component is drawn
from $S_1$, the second from $S_2$, and so forth.  For example, $\naturals
\times \set{a,b}$ is the set of all pairs whose first element is a
nonnegative integer and whose second element is an $a$ or a $b$:
%
\[
\naturals \times \set{a,b}
    = \set{(0,a), (0,b), (1,a), (1,b), (2,a), (2, b), \dots}
\]
%
A product of $n$ copies of a set $S$ is denoted $S^n$.  For example,
$\set{0, 1}^3$ is the set of all $3$-bit sequences:
%
\[
\set{0, 1}^3 = \set{ (0,0,0), (0,0,1), (0,1,0), (0,1,1),
                     (1,0,0), (1,0,1), (1,1,0), (1,1,1) }
\]

\subsection{Set Builder Notation}

One specialized, but important use of predicates is in \term{set
builder notation}.  We'll often want to talk about sets that cannot
be described very well by listing the elements explicitly or by taking
unions, intersections, etc. of easily-described sets.  Set builder
notation often comes to the rescue.  The idea is to define a
\textit{set} using a \textit{predicate}; in particular, the set
consists of all values that make the predicate true.  Here are some
examples of set builder notation:
%
\begin{align*}
A & \eqdef \set{n \in \naturals \suchthat \text{$n$ is a prime and $n =
    4k+1$ for some integer $k$}} \\
B & \eqdef \set{x \in \reals \suchthat x^3 - 3 x + 1 > 0} \\
C & \eqdef \set{a + b i \in \complexes \suchthat a^2 + 2 b^2 \leq 1}
\end{align*}
%
The set $A$ consists of all nonnegative integers $n$ for which the
predicate
%
\begin{center}
``$n$ is a prime and $n = 4k+1$ for some integer $k$''
\end{center}
%
is true.  Thus, the smallest elements of $A$ are:
%
\[
5, 13, 17, 29, 37, 41, 53, 57, 61, 73, \ldots.
\]
%
Trying to indicate the set $A$ by listing these first few elements
wouldn't work very well; even after ten terms, the pattern is not
obvious!  Similarly, the set $B$ consists of all real numbers $x$ for
which the predicate
%
\[
x^3 - 3x + 1 > 0
\]
%
is true.  In this case, an explicit description of the set $B$ in
terms of intervals would require solving a cubic equation.  Finally,
set $C$ consists of all complex numbers $a + b i$ such that:
%
\[
a^2 + 2 b^2 \leq 1
\]
%
This is an oval-shaped region around the origin in the complex plane.

\subsection{Functions}

A \hyperdef{sets}{functions}{\term{function}} assigns an element of
one set, called the \term{domain}, to elements of another set, called
the \term{codomain}.  The notation
\[
f: A \to B
\]
indicates that $f$ is a function with domain, $A$, and codomain, $B$.  The
familiar notation ``$f(a) = b$'' indicates that $f$ assigns the element $b
\in B$ to $a$.  Here $b$ would be called the \emph{value} of $f$ at
\emph{argument} $a$.

Functions are often defined by formulas as in:
\[
f_1(x) \eqdef \frac{1}{x^2}
\]
where $x$ is a real-valued variable, or
\[
f_2(y,z) \eqdef y\mathtt{10}yz
\]
where $y$ and $z$ range over binary strings, or
\[
f_3(x, n) \eqdef \text{ the pair } (n, x)
\]
where $n$ ranges over the nonnegative integers.

A function with a finite domain could be specified by a table that shows
the value of the function at each element of the domain.  For example, a function
$f_4(P,Q)$ where $P$ and $Q$ are propositional variables is specified by:
\[\begin{array}{|cc|c|}
\hline
P & Q & f_4(P,Q)\\
\hline \true & \true & \true\\
\hline \true & \false & \false\\
\hline \false & \true & \true\\
\hline \false & \false & \true\\
\hline
\end{array}\]
Notice that $f_4$ could also have been described by a formula: $f_4(P,Q) =
[P \implies Q]$.

A function might also be defined by a procedure for computing its value at
any element of its domain, or by some other kind of specification.  For
example, define $f_5(y)$ to be the length of a left to right search of the
bits in the binary string $y$ until a \texttt{1} appears, so
\begin{eqnarray*}
f_5(0010) & = &  3,\\
f_5(100)  & = & 1,\\
f_5(0000) & \text{is} & \text{undefined}.
\end{eqnarray*}
\iffalse
Operations include function inverse and composition ($f \circ g(x) =
f(g(x))$).
\fi

There are a few properties of functions that will be useful when we take up
the topic of counting because they imply certain relations between the
sizes of domains and codomains.  We say a function $f : A \to B$ is:

\begin{itemize}

\item \term{total} if every element of $A$ is assigned to some element of
  $B$; otherwise, $f$ is called a \term{partial function},

\item \term{surjective} if every element of $B$ is mapped to \textit{at
least once}\footnote{
The names ``surjective'' and ``injective'' are unmemorable and
nondescriptive.  Some authors use the term \term{onto} for surjective and
\emph{one-to-one} for injective, which are shorter but arguably no more
memorable.}, % that is, $\forall b \in B \exists a \in A.\; f(a) = b$.

\item \term{injective} if every element of $B$ is mapped to \textit{at
most once}, and

\item \term{bijective} if $f$ is total, surjective, and injective.  In
  particular, each element of $B$ is mapped to \emph{exactly once}.

\end{itemize}

We can explain all these properties in terms of a diagram where all the
elements of the domain, $A$, appear in one column (a very long one if
$A$ is infinite) and all the elements of the codomain, $B$, appear in
another column, and we draw an arrow from a point $a$ in the first column
to a point $b$ in the second column when $f(a) = b$.  For example, here
are diagrams for two functions:

\begin{center}
\begin{tabular}{ccc}

\unitlength = 2pt
\begin{picture}(50,60)(-10,-5)
\thinlines
\put(-5,50){\makebox(0,0){$A$}}
  \put(35,50){\makebox(0,0){$B$}}
\put(-5,40){\makebox(0,0){a}}
  \put(0,40){\vector(1,0){28}}
  \put(35,40){\makebox(0,0){1}}
\put(-5,30){\makebox(0,0){b}}
  \put(0,30){\vector(3,-1){28}}
  \put(35,30){\makebox(0,0){2}}
\put(-5,20){\makebox(0,0){c}}
  \put(0,20){\vector(3,-1){28}}
  \put(35,20){\makebox(0,0){3}}
\put(-5,10){\makebox(0,0){d}}
  \put(0,10){\vector(3,2){28}}
  \put(35,10){\makebox(0,0){4}}
\put(-5,0){\makebox(0,0){e}}
  \put(0,0){\vector(3,2){28}}
\end{picture}

& \hspace{0.5in} &

\unitlength = 2pt
\begin{picture}(50,60)(-10,-5)
\thinlines
\put(-5,50){\makebox(0,0){$A$}}
  \put(35,50){\makebox(0,0){$B$}}
\put(-5,40){\makebox(0,0){a}}
  \put(0,40){\vector(1,0){28}}
  \put(35,40){\makebox(0,0){1}}
\put(-5,30){\makebox(0,0){b}}
  \put(0,30){\vector(3,-1){28}}
  \put(35,30){\makebox(0,0){2}}
\put(-5,20){\makebox(0,0){c}}
  \put(0,20){\vector(3,-2){28}}
  \put(35,20){\makebox(0,0){3}}
\put(-5,10){\makebox(0,0){d}}
  \put(0,10){\vector(3,2){28}}
  \put(35,10){\makebox(0,0){4}}
\put(35,0){\makebox(0,0){5}}
\end{picture}

\end{tabular}
\end{center}

Here is what the definitions say about such pictures:
\begin{itemize}

\item ``$f$ is a function'' means that every point in the domain column,
  $A$, has at \emph{most one arrow out of it}.  (If more than one arrow
  came out of any point in the first column, then $f$ would be a
  \emph{relation}, but not a function.  We'll take up the topic of
  relations in a couple of weeks.)

\item ``$f$ is total'' means that \emph{every} point in the $A$ column has
  \emph{at least one arrow out of it}, which really means it has
  \emph{exactly one arrow out of it} since $f$ is a function.

\item ``$f$ is surjective'' means that \emph{every} point in the codomain
  column, $B$, has \emph{at least one arrow into it}.

\item ``$f$ is injective'' means that every point in the codomain column,
  $B$, has \emph{at most one arrow into it}.

\item ``$f$ is bijective'' means that \emph{every} point in the $A$ column
      has exactly one arrow out of it, and \emph{every} point in the $B$ column
      has exactly one arrow into it.

\end{itemize}

So in the diagrams above, the function on the left is total and surjective
(every element in the $A$ column has an arrow out, and every element in
the $B$ column has at least one arrow in), but not injective (element 3
has two arrows going into it).  The function on the right is total and
injective (every element in the $A$ column has an arrow out, and every
element in the $B$ column has at most one arrow in), but not surjective
(element 4 has no arrow going into it).

Everything about a function is captured by three sets: it domain, its
codomain, and the set
\[
\set{(a,b) \suchthat f(a) = b}
\]
which is called the \emph{graph} of $f$.  Notice that the graph of $f$
simply describes where the arrows go in a diagram for $f$.

The graph of $f$ does not determine by itself whether $f$ is total or
surjective; we also need to know what the domain is to determine if $f$ is
total, and we need to know the codomain to tell if it's surjective.  For
example, a function defined by the formula $1/x^2$, is
total if its domain is $\reals^+$ but partial if its domain is some set of
real numbers including 0.  It is bijective if its domain and codomain are
both $\reals^+$, but neither injective nor surjective if its domain and
codomain are both $\reals$.

Surjections and injections imply certain size relationships between
domains and codomains.  If $A$ is a finite set, we let $\card{A}$ be its
size, that is, the number of elements in $A$.

\pagebreak[2]
\begin{lemma*}\hyperdef{mapping-rule}{lemma}{[Mapping Rule]} \mbox{}
\begin{itemize}

\item If $f : A \to B$ is surjective, then $\card{A} \geq \card{B}$.

\item If $f : A \to B$ is total and injective, then $\card{A} \leq \card{B}$.

\item If $f : A \to B$ is bijective, then $\card{A} = \card{B}$.

\end{itemize}
\end{lemma*}

It's often useful to find the set of values a function takes when applied
to the elements in \emph{a set} of arguments.  So if $f:A \to B$, and $A'
\subseteq A$, we define $f(A')$ to be the set of all the values that $f$
takes when it is applied to elements of $A'$.  That is,
\[
f(A') \eqdef \set{b \in B \suchthat f(a') = b \text{ for some } a'
  \in A'}.
\]
For example, if we let $[r,s]$ denote the interval from $r$ to $s$ on the
real line, then $f_1([1,2]) = [1/4,1]$.

For another example, let's take the ``search for a \texttt{1}''
function, $f_5$.  If we let $X$ be the set of binary words which
start with an even number of \texttt{0}'s followed by a
\texttt{1}, then $f_5(X)$ would be the odd nonnegative integers.

Applying $f$ to a set, $A'$, of arguments is referred to as
\hyperdef{mapping}{pointwise}{``applying $f$ pointwise to $A'$''}
\footnote{There is a picky distinction between the function $f$ which
  applies to elements of $A$ and the function which applies $f$ pointwise
  to subsets of $A$, because the domain of $f$ is $A$, while the domain of
  pointwise-$f$ is $\power(A)$.  It is usually clear from context whether
  $f$ or pointwise-$f$ is meant, so there is no harm in overloading the
  symbol $f$ in this way.}, and the set $f(A')$ is referred to as the
\term{image} of $A'$ under $f$.  The set of values that arise from
applying $f$ to all possible arguments is called the \emph{range} of $f$.
That is
\[
\range{f} \eqdef f(\domain{f}).
\]
Some authors refer to the codomain as the range of a function, but they
shouldn't: the distinction between the range and codomain is important.
The range and codomain of $f$ are the same only when $f$ is surjective.

\section{Does All This Really Work?}

So this is where mainstream mathematics stands today: there is a handful of
axioms from which everything else in mathematics can be logically derived.
This sounds like a rosy situation, but there are several dark clouds,
suggesting that the essence of truth in mathematics is not completely
resolved.
%
\begin{itemize}

\item The ZFC axioms weren't etched in stone by God.  Instead, they
were mostly made up by some guy named Zermelo.  Probably some days he
forgot his house keys.

\item No one knows whether the ZFC axioms are logically consistent; there
is some possibility that one person might prove a proposition $P$ and
another might prove the proposition $\neg P$.  Then Math would be broken.
This sounds like a crazy situation, but it has happened before.  At the
beginning of the 20th century, the logician Gotlob Frege made an initial
attempt to axiomatize set theory using a few very plausible axioms.
Several mathematicians ---most famously Bertrand Russell\footnote{Bertrand
Russell was a Mathematician/Logician at Cambridge University at the turn of
the Twentieth Century.
He reported that when he felt too old to do Mathematics, he began to study
and write about Philosophy, and when he was no longer smart enough to do
Philosophy, he began writing about Politics.  He was jailed as a
conscientious objector during World War I.  For his extensive
philosophical and political writing, he won a Nobel Prize for Literature.}
---discovered that Frege's axioms actually \textit{were}
self-contradictory!

\item While the ZFC axioms largely generate the mathematics everyone wants
  ---where $3 + 3 = 6$ and other basic facts are true ---they also imply
  some disturbing conclusions.  For example, the Banach-Tarski Theorem
  says that, as a consequence of the Axiom of Choice, a solid ball can be
  divided into six pieces and then the pieces can be rigidly rearranged to
  give \textit{two} solid balls, each the same size as the original!

\item In the 1930's, G\"{o}del proved that, assuming the ZFC axioms
\emph{are} consistent, then they are not \emph{complete}: that is, there
exist propositions that are true, but do not logically follow from the
axioms.  As a matter of fact, the proposition that ZFC is consistent
(which is not too hard to express as a formula about sets) is an example
of a true proposition that cannot be proved.

There seems to be no way out of this disturbing situation; simply adding
more axioms does not eliminate the problem.

\end{itemize}

\floatingtextbox{
\textboxtitle{Russell's Paradox}

Reasoning naively about sets quickly leads to the following
contradiction ---known as Russell's Paradox:
\begin{quote}
Let $S$ be a variable ranging over all sets, and define
\[W \eqdef \set{S \suchthat S \not\in S}.\]
So by definition,
\[S \in W  \mbox{  iff  } S \not\in S,\]
for every set $S$.  In particular, we can let $S$ be $W$, and obtain
the contradictory result that
\[W \in W  \mbox{  iff  } W \not\in W.\]
\end{quote}

This paradox revealed a fatal flaw in Frege's initial effort to axiomatize
set theory.  This was an astonishing blow to efforts to provide an
axiomatic foundation for Mathematics.

But a way out was clear at the time: \emph{we cannot assume that $W$ is a
set}.  So the step in the proof where we let $S$ be $W$ is invalid,
because $S$ ranges over sets, and $W$ is not a set.

But denying that $W$ is a set means we must reject the axiom that every
mathematically well-defined collection of elements is actually a set.

The problem faced by Logicians was how to axiomatize rules determining
which well-defined collections are sets.  Russell and his colleague
Whitehead immediately went to work on this problem and spent a dozen years
developing a huge new axiom system in an even huger monograph called
\emph{Principia Mathematica}.

The modern ZFC axioms for set theory are much simpler than the
Russell/Whitehead system and are close to Frege's original axioms.  They
specify that sets must be built up from ``simpler'' sets in certain
standard ways.  In particular, no set is ever a member of itself.  So the
modern resolution of Russell's paradox goes as follows: since $S \not \in
S$ for all sets $S$, it follows that $W$, defined above, contains every
set.  So $W$ can't be a set or it would be a member of itself.

These issues rarely come up in mainstream Mathematics.  And they don't
come up at all in Computer Science, where the focus is generally on
``countable,'' and often just finite, sets.  In practice, only Logicians
and Set Theorists have to worry about collections that are too big to be
sets.}

These problems will not trouble us in 6.042, but they are interesting
to think about!

\newpage
\section{Glossary of Symbols}
\begin{center}
\begin{tabular}{ll}
symbol &  meaning\\
\hline
\iffalse
$\eqdef$ & is defined to be\\
$\land$ & and\\
$\lor$ & or\\
$\implies$ & implies\\
$\neg$    & not\\
$\neg{P}$ & not $P$\\
$\bar{P}$ & not $P$\\
$\iff$    & iff\\
$\iff$    & equivalent\\
$\oplus$   & xor\\
$\exists$ & exists\\
$\forall$ & for all\\
\fi
$\in$   &  is a member of\\
$\subseteq$ & is a subset of\\
$\subset$ & is a proper subset of\\
$\union$  & set union\\
$\intersect$ & set intersection\\
$\bar{A}$ & complement of a set, $A$\\
$\power(A)$ & powerset of a set, $A$\\
$\emptyset$ & the empty set, $\set{}$\\
$\naturals$ & nonnegative integers \\
$\integers$ & integers\\
$\integers^+$ & positive integers\\
$\integers^-$ & negative integers\\
$\rationals$ & rational numbers\\
$\reals$ & real numbers\\
$\complexes$ & complex numbers\\
$\emptystring$ & the empty string/list
\end{tabular}
\end{center}

\endinput
