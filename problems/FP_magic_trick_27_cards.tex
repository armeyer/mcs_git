\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{FP_magic_trick_27_cards}
  \pcomment{from: S09.cp10t, S06.cp9w with first prob shortened, 2nd problem
    omitted; F02.cp9W which was taken from F99 tut16 & S99 tut9}
  \pcomment{follow up to inclass Magic Trick demo}
\end{pcomments}

\pkeywords{
 magic_trick
 degree-constrained
 Halls_theorem
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}

In a variant of the magic card trick decribed \inbook{in
  Section~\bref{cardmagic_sec} of } the text, an Assistant will have
the audience choose four cards, and the Assistant then reveals three
of them---in an order he chooses---to the Magician.  The Magician then
announces what the fourth card will be.

\bparts

\ppart Show that the Magician could not pull off this trick with a deck
larger than 27 cards.

% \hint Compare the number of 4-card hands in an $n$-card deck with the
% number of 3-card sequences.

\examspace[2in]

\begin{solution}
For a match to be possible with a $n$-card deck, the number
$\binom{n}{4}$ of 4-card hands must be at most as large as the number
$n(n-1)(n-2)$ of 3-card sequences. So
\[
\binom{n}{4} \leq n(n-1)(n-2)
\]
which implies
\[
n-3 \leq 4!
\]
and hence $n \leq 27$.
\end{solution}

\ppart Show that, in principle, the Magician could pull off the Card
Trick with a deck of exactly 27 cards. (You do not need to describe the
actual method.)

% \hint \idx{Hall's Theorem} and
% \idx{degree-constrained}~(\bref{degree-constrained_def}) graphs.

%\examspace[2in]

\begin{solution}
In principle the trick is possible iff the bipartite graph between
4-card hands and 3-card sequences has a matching for the hands.  In
this graph, the degree of each hand is $4! = 24$, whatever the size of
deck.  The degree of each sequence of 3 will be the number of cards
remaining in the deck.  With a deck of 27, there will be 24 cards
remaining, so the degree of each sequence of 3 will also be 24.
Hence, the graph is degree-constrained\inbook{
  (Def.~\bref{degree-constrained_def})}, and so satisfies Hall's
condition for a matching.
\end{solution}

\eparts

\end{problem}
 
\endinput
