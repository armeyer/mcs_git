\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_file_system_functioning_normally}
  \pcomment{from: S17.cp2f, S09.cp2m}
  \pcomment{minor edits ARM 2/5/11}
\end{pcomments}

\pkeywords{
  satisfiable
  specification
  truth_assignment
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
  This problem\footnote{Revised from Rosen, 5th edition, Exercise
    1.1.36} examines whether the following specifications are
  \emph{satisfiable}:

\begin{enumerate}

\item If the file system is not locked, then\dots

   \begin{enumerate}

   \item new messages will be queued.

   \item new messages will be sent to the messages buffer.

   \item the system is functioning normally, and conversely, if the system
         is functioning normally, then the file system is not locked.

   \end{enumerate}

\item  If new messages are not queued, then they will be sent to
the messages buffer.

\item  New messages will not be sent to the message buffer.

\end{enumerate}

\bparts

\ppart Begin by translating the five specifications into
propositional formulas using the four propositional variables:
\begin{align*}
L   & \eqdef \text{file system locked}, \\
Q   & \eqdef \text{new messages are queued}, \\
B   & \eqdef \text{new messages are sent to the message buffer}, \\
N   & \eqdef \text{system functioning normally}.
\end{align*}

\begin{solution}
The translations of the specifications are:
\begin{align}
\QNOT(L) & \QIMPLIES\  Q & \tag{Spec.\ 1.(a)}\\
\QNOT(L) & \QIMPLIES\  B & \tag{Spec.\ 1.(b)}\\
\QNOT(L) & \QIFF\      N & \tag{Spec.\ 1.(c)}\\
\QNOT(Q) & \QIMPLIES\  B & \tag{Spec.\ 2.}\\
\QNOT(B) &              & \tag{Spec.\ 3.}
\end{align}
\end{solution}

\ppart\label{assignLQBN} Demonstrate that this set of specifications is
satisfiable by describing a single truth assignment for the variables
$L,Q,B,N$ and verifying that under this assignment, all the specifications
are true.

\begin{solution}
An assignment that works is
\begin{align*}
L       & =  \true \\
N       & =  \false \\
Q       & =  \true \\
B       & =  \false.
\end{align*}

To find this assignment, we could have started constructing the sixteen
line truth table---one line for each way of assigning truth values to the
four variables $L$, $N$, $Q$ and $B$---and calculated the truth value of
the AND of all the five specifications under that assignment, continuing
until we got one that made the \QAND-formula true.

If for every one of the sixteen possible truth assignments, the \QAND-formula
was false, then the system is not satisfiable.
\end{solution}

\ppart Argue that the assignment determined in
part~\eqref{assignLQBN} is the only one that does the job.

\begin{solution}
We can avoid calculating all 16 rows of the full truthtable
  calculation suggested in the solution to part~\eqref{assignLQBN} by
  reasoning as follows.  In any truth assignment that makes all five
  specifications true,
\begin{itemize}

\item $B$ must be false, or the last specification, (Spec.\ 3.), would be
false.

\item Given that $B$ is false, (Spec.\ 2.) and (Spec.\ 1.(b)) can be
true only if $Q$ and $L$ are true.

\item Given that $L$ is true, (Spec.\ 1.(c)) can
be true only if $N$ is false.

\end{itemize}
Thus, in order for all five specifications to be true, the assignment
has to be the one in the solution to part~\eqref{assignLQBN}

\end{solution}

\eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
