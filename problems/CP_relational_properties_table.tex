\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{from: S09.cp3t}
%  \pcomment{}
\end{pcomments}

\pkeywords{
  relations
  relational_properties
  mapping_lemma
  functions
  injections
  surjections
  bijections
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
  The \term{inverse}, $\inv{R}$, of a binary relation, $R$, from $A$ to
  $B$, is the relation from $B$ to $A$ defined by:
\[
b \mrel{\inv{R}} a \qiff a \mrel{R} b.
\]
In other words, you get the diagram for $\inv{R}$ from $R$ by ``reversing
the arrows'' in the diagram describing $R$.  Now many of the relational
properties of $R$ correspond to different properties of $\inv{R}$.  For
example, $R$ is an \emph{total} iff $\inv{R}$ is a \emph{surjection}.

\bparts

% This part would be a good tutor problem

\ppart\label{invprops} Fill in the remaining entries is this table:
\begin{center}
\begin{tabular}{l|cl}
$R$ is  & iff & $\inv{R}$ is \\ \hline
total                    && a surjection\\
a function\\
a surjection\\
an injection\\
a bijection
\end{tabular}
\end{center}

\hint Explain what's going on in terms of ``arrows'' from $A$ to $B$ in
the diagram for $R$.

\begin{solution}
\begin{center}
\begin{tabular}{l|cl}
$R$ is  & iff & $\inv{R}$ is \\ \hline
total                    && a surjection\\
a function               && \insolutions{an injection}\\
a surjection             && \insolutions{total}\\
an injection             && \insolutions{a function}\\
a bijection              && \insolutions{a bijection}
\end{tabular}
\end{center}

\end{solution}

\ppart Let $A,B$ be sets.  We say $A$ is \emph{as small as} $B$ iff there
is a total injective relation\footnote{The problem used in class used
  ``function'' instead of ``relation'' here.  Both are correct, but
  relation follows more easily from part~\eqref{invprops}} from $A$ to $B$.
  Prove that $A$ is \emph{as small as} $B$ iff $B$ is \emph{as big as}
  $A$.

\hint Use part~\eqref{invprops}.

\begin{solution}
\begin{proof}
(left to right): $A$ is \emph{as small as} $B$ means there is a total injective
function, $R:A \to B$.  By part\eqref{invprops}, this means $\inv{R}$ is a
surjective function from $B$ to $A$, so by definition, $B$ is as big as $A$.

(right to left): $B$ is \emph{as big as} $A$ means there is a surjective
function, $S:B \to A$.  So by part\eqref{invprops}, $\inv{S}$ is a total
injection from $A$ to $B$, so by definition, $A$ is as small as $B$.
\end{proof}

\end{solution}

\ppart Prove that if $A$ is as big as $B$, and $B$ is as big as $C$, then
$A$ is as big as $C$.  \textcolor{red}{Warning}: The ``as big as''
relation has a precise technical meaning.  You should not assume it has
any properties suggested by its name until they're proved.

\begin{solution}
Since $A$ is as big as $B$, there is a surjective function, $f:A \to B$.
Likewise, there is a surjective function, $g:B \to C$.  Let $h \eqdef g
\compose f$ be the function equal to the composition of $g$ and $f$, that
is
\[
h(a) \eqdef g(f(a)).
\]
Then $h$ will be a surjection from $A$ to $C$, proving that $A$ is as big as $C$.

To see why $h$ is a surjection, suppose $c \in C$.  Then since $g$ is a
surjection, $c = g(b)$ for some $b \in B$.  Likewise, $b = f(a)$ for some
$a \in A$.  Hence $c = g(f(a)) = h(a)$, proving that $c$ is in the range
of $h$, as required.
\end{solution}

\eparts
\end{problem}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
