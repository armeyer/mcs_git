\documentclass[problem]{mcs}

\begin{pcomments}
    \pcomment{TP_Integer_Multiplication}
    \pcomment{Converted from prob1.scm
              by scmtotex and dmj
              on Sun 13 Jun 2010 02:58:06 PM EDT}
\end{pcomments}

\begin{problem}

%% type: short-answer
%% title: Integer Multiplication

Suppose that the following procedure is used to multiply two
non-negative integers $a$ and~$b$.
\begin{align*}
x ::= a \\
y ::= b \\
p ::= 0.
\end{align*}
Repeat the following commands:

\begin{itemize}

\item
if $x = 0$, then output $p$ and terminate, else

\item
if $x$ is even, then set $x ::= x/2$ and $y ::= 2y$, else

\item
if $x$ is odd, then set $x ::= x - 1$ and $p ::= p + y$.

\end{itemize}

\bparts

\ppart
Which of the following predicates are \emph{preserved invariants} for
this algorithm?

\begin{enumerate}
  
\item $xy = p$
  
\item $xy = ab$
  
\item $xy + p = ab$
  
\item $xyp = ab$

\end{enumerate}


\begin{solution}

3

Predicates (1), (2), and~(4) are preserved by the second step of the
algorithm, but not necessarily by the third step.  Predicate~(3) is
preserved by both steps: In the second step, the product $xy$ remains
the same and so does~$p$; so the sum keeps its old value. In the third
step, the product $xy$ decreases by~$y$ and $p$~increases by~$y$; so
the sum again keeps its old value.
\end{solution}

\ppart
Which of the following derived variables are \emph{strictly
decreasing}?

\begin{enumerate}
  
\item $x$
  
\item $xy$
  
\item $p - y$
  
\item $x + p$

\end{enumerate}

\begin{solution}

1

In every step: $x$ is either halved or reduced by~1, so it is strictly
decreasing; $xy$ either remains the same or reduces by~$y$, so it is
weakly decreasing; $p-y$ and $x+p$ may decrease or increase, so they
are not monotone.
\end{solution}

\eparts

\end{problem}

\endinput
