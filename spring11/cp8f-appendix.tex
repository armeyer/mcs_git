\iffalse

\documentclass[handout]{mcs}

\begin{document}

\formatpages{}{Appendix, Class Problems 8F}{Fri, April 1}
\fi

\section*{Appendix}

\begin{definition*} %\label{def:embedding}%\label{embeddingdef}
A \term{planar embedding} of a \emph{connected} graph consists of a
nonempty set of closed walks of the graph called the \term{discrete
faces} of the embedding.  Planar embeddings are defined recursively as
follows:

\inductioncase{Base case}: If $G$ is a graph consisting of a single
vertex, $v$, then a planar embedding of $G$ has one discrete face,
namely, the length zero closed walk, $v$.

\inductioncase{Constructor case} (split a face): Suppose $G$ is a
connected graph with a planar embedding, and suppose $a$ and $b$ are
distinct, nonadjacent vertices of $G$ that appear on some discrete
face, $\gamma$, of the planar embedding.  That is, $\gamma$ is a
closed walk of the form
\[
%a \dots b \cdots a.
\merge{\alpha}{\beta}
\]
where $\alpha$ is a walk from $a$ to $b$ and $\beta$ is a walk from
$b$ to $a$.\footnote{
If a walk $\walkv{f}$ ends with a vertex, $v$, and a walk
$\walkv{r}$ starts with the same vertex, $v$, their
\idx{merge}, $\merge{\walkv{f}}{\walkv{r}}$, is the walk that starts
with $\walkv{f}$ and continues with $\walkv{r}$.  Two walks can only
be merged if the first ends with the same vertex, $v$, that the second
one starts with.}
Then the graph obtained by adding the edge $\edge{a}{b}$ to the edges
of $G$ has a planar embedding with the same discrete faces as $G$,
except that face $\gamma$ is replaced by the two discrete
faces\footnote{There is a minor exception to this definition
of embedding in the special case when $G$ is a line graph beginning
with $a$ and ending with $b$.  In this case the cycles into which
$\gamma$ splits are actually the same.  That's because adding edge
$\edge{a}{b}$ creates a cycle that divides the plane into ``inner''
and ``outer'' continuous faces that are both bordered by this cycle.
In order to maintain the correspondence between continuous faces and
discrete faces in this case, we define the two discrete faces of the
embedding to be two ``copies'' of this same cycle.}
\[
%a\dots ba\quad \text{ and } \quad ab\cdots a,
\merge{\alpha}{\edge{b}{a}}
 \quad \text{ and } \quad \merge{\edge{a}{b}}{\beta}
\]
as illustrated in Figure~\ref{8ffig:face-splitting}.

\begin{figure}

\graphic{split-a-face}

\caption{The ``split a face'' case: $awxbyza$ splits into $awxyba$ and $abyza$.}
\label{8ffig:face-splitting}
\end{figure}

\inductioncase{Constructor case} (add a bridge): Suppose $G$ and~$H$
are connected graphs with planar embeddings and disjoint sets of
vertices.  Let $\gamma$ be a discrete face of the embedding of $G$ and
suppose that $\gamma$ begins and ends at vertex $a$.
\iffalse
That is, $\gamma$ is of the form
\[
a\dots a.
\]
\fi

Similarly, let $\delta$ be a discrete face of the embedding of $H$
that begins and ends at vertex $b$.
\iffalse
So $\delta$ is of the form
\[
b\cdots b.
\]
\fi

Then the graph obtained by connecting $G$ and $H$ with a new edge,
$\edge{a}{b}$, has a planar embedding whose discrete faces are the union of
the discrete faces of $G$ and $H$, except that faces $\gamma$ and $\delta$
are replaced by one new face
\[
%a\dots ab\cdots ba.
\merge{\merge{\merge{\gamma}{(a\ \edge{a}{b}\ b)}}{\delta}}{(b\ \edge{b}{a}\ a)}.
\]

This is illustrated in Figure~\ref{8ffig:add-bridge}, where the vertex
sequences of the faces of $G$ and $H$ are:
\[
G: \set{ axyza,\; axya,\; ayza }
    \qquad H: \set{ btuvwb,\; btvwb,\; tuvt },
\]
and after adding the bridge $\edge{a}{b}$, there is a
single connected graph whose faces have the vertex sequences
\[
\set{ axyz{\color{blue}ab}tuvw{\color{blue}ba},\;
         axya,\; ayza,\; btvwb,\; tuvt }.
\]

\begin{figure}

\graphic{add-bridge}

\caption{The ``add a bridge'' case.}
\label{8ffig:add-bridge}
\end{figure}

\end{definition*}

%\instatements{\newpage}
\begin{theorem}[Euler's Formula]
If a connected graph has a planar embedding, then
%
\[
v - e + f = 2
\]
%
where $v$ is the number of vertices, $e$ is the number of edges, and
$f$ is the number of faces.
\end{theorem}

\begin{corollary}
\label{cp8f.3v}
Suppose a connected planar graph has $v \geq 3$ vertices and $e$ edges.  Then
\[
e \leq 3v-6.
\]
\end{corollary}

\begin{proof}
By definition, a connected graph is planar iff it has a planar embedding.
So suppose a connected graph with $v$ vertices and $e$ edges has a planar
embedding with $f$ faces.  By
Problem~\ref{planar-structural}.\ref{structind-twice}, every edge is traversed
exactly twice by the face boundaries.  So the sum of the lengths of the
face boundaries is exactly $2e$.  Also by
Problem~\ref{planar-structural}.\ref{structind-face-length}, when $v \geq 3$, each
face boundary is of length at least three, so this sum is at least $3f$.
This implies that
\begin{equation}\label{cp8f.e3f}
3f \leq 2e.
\end{equation}
But $f = e-v+2$ by Euler's formula, and substituting into~\eqref{cp8f.e3f} gives
\begin{align*}
3(e-v+2) & \leq 2e\\
e-3v + 6  & \leq 0\\
e & \leq 3v - 6
\end{align*}
\end{proof}

\begin{corollary}
$K_5$ is not planar.
\end{corollary}

\begin{proof}
\[
e = 10 > 9 = 3v-6.
\]
\end{proof}
\iffalse

\end{document}
\fi

\endinput
