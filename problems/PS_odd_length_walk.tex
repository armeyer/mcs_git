\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_odd_length_walk}
  \pcomment{by ARM 3/13/11; revised/corrected 3/20/13, 4/16/18}
\end{pcomments}

\pkeywords{
  walk
  path
  cycle
  closed_walk
  digraph
  odd_length
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}

\bparts

\ppart Give an example of a digraph in which a vertex $v$ is on a
positive even-length closed walk, but \emph{no} vertex is on an
even-length cycle.

\begin{staffnotes}
\hint There is an example with three vertices.
\end{staffnotes}

\begin{solution}
A graph consisting of three vertices in a cycle is an example. That
is, the vertices are $a,b,c$ and the edges are $\diredge{a}{b},
\diredge{b}{c},\diredge{c}{a}$.  The \emph{only} cycle in the graph is
of length three, but of course going around it twice gives an
even-length closed walk.

\iffalse

\begin{figure}
\graphic{Fig_walkpath}
\caption{A positive even-length $v$ to $v$ walk, but no even-length $v$ to $v$ cycle.}
\label{fig:walkpath}
\end{figure}

As in Figure~\ref{fig:walkpath}, let
\begin{align*}
V & \eqdef \set{u,v,w,x},\\
E & \eqdef \set{\diredge{u}{w}, \diredge{w}{x}, \diredge{x}{u}, \diredge{v}{w}, \diredge{x}{v}}.
\end{align*}
There is a positive even-length closed walk from $v$ to $v$:
\[
v \diredge{v}{w} w \diredge{w}{x} x \diredge{x}{u} u  \diredge{u}{w} w \diredge{w}{x} x \diredge{x}{v}
\]
It is easy to check that the \emph{only} cycle including $v$ is the odd-length cycle
\[
v \diredge{v}{w} w \diredge{w}{x} x \diredge{x}{v}.
\]
There is no even-length cycle from $v$ to $v$ from~$u$ to~$u$
\emph{that contains~$v$}.  The reason is that the sole edge out of $u$
goes to $w$, and the sole edge out of~$v$ likewise goes to $w$, so any
walk from~$u$ to~$u$ that goes through~$v$ must go through $w$ at
least twice and therefore won't be a cycle.  \fi

\end{solution}

\ppart Give an example of a digraph in which a vertex $v$ is on an
odd-length closed walk but not on an odd-length cycle.

\begin{solution}
\begin{align*}
V & \eqdef \set{a,v,c},\\
E & \eqdef \set{\diredge{a}{a}, \diredge{a}{v}, \diredge{v}{a}}.
\end{align*}
Now $v\, \diredge{v}{a}\, a\, \diredge{a}{a}\, a\, \diredge{a}{v}$ is
a length three closed walk, but there is only one cycle that includes $v$,
and it has length two.
\end{solution}

\ppart Prove that every odd-length closed walk contains a vertex that
is on an odd-length cycle.

\inhandout{\hint Consider a minimum length such walk.}

\iffalse
zabel, 4/11/18: This solution doesn't work as written. The shortest
odd-length walk might be entirely disjoint from the odd-length walk
we're trying to argue about.

ARM, 4/16/18 good point. fixed below
\fi

\begin{solution}
\begin{proof}
Suppose to the contrary that there was an odd-length closed walk
$\walkv{v}$ that did not contain a vertex that was on an odd-length
cycle.  Let $\walkv{e}$ be a shortest such walk that is part of
$\walkv{v}$.  Now $\walkv{e}$ cannot itself be a cycle or all its
vertices would be on an odd-length cycle.  So $\walkv{e}$ must have an
additional repeat vertex besides its beginning and end.  There are
then two cases to consider depending on whether the additional repeat
is different from, or the same as, the start vertex.

\inductioncase{Case} 1.
\[
\walkv{e} = a\, \catv{\catv{\walkv{f}}{b}{\walkv{g}}}{b}{\walkv{h}}\, a
\]
for some vertices $a \neq b$ and positive length walks $\walkv{f},
\walkv{g}, \walkv{h}$.

Now if $\walkv{g}$ has odd length, then, being shorter than
$\walkv{e}$, it contains a vertex on an odd-length cycle.  This
contradicts our hypothesis that $\walkv{e}$ does not contain such a
vertex.

So $\walkv{g}$ must have positive even length, which implies that
\[
a\, \catv{\walkv{f}}{b}{\walkv{h}\, a}
\]
is an odd-length closed walk which, being shorter than $\walkv{e}$,
contains a vertex on an odd-length cycle, again contradicting our
hypothesis that $\walkv{e}$ does not contain such a vertex.

\inductioncase{Case} 2.\footnote{Since a closed walk could be
  redefined to be any of its vertices, we really could have skipped
  this case.}
\[
\walkv{e} = a\, \catv{\walkv{f}}{a}{\walkv{g}}\, a.
\]
for positive length closed walks $\walkv{f}$ and $\walkv{g}$.  Since
the length of $\walkv{e}$ is odd and equal to the sum of the lengths
of $\walkv{f}$ and $\walkv{g}$, at least one of $\walkv{f}$ and
$\walkv{g}$ must be an odd-length closed walk, which being shorter
than $\walkv{e}$, contains a vertex on an odd-length cycle, again
contradicting our hypothesis that $\walkv{e}$ does not contain such a
vertex.

\end{proof}

\end{solution}

\eparts

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
