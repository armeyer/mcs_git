\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_increasing_sequences_bijection}
  \pcomment{zabel 3/17/2018 for s18 ps4}
\end{pcomments}

\pkeywords{
  bijection
  infinite sets
  sequences
  increasing
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand\Inc{\text{Inc}}

\begin{problem}
Let $\nngint^\omega$ be the set of infinite sequences of natural
numbers, and call a sequence $(a_0,a_1,a_2,\dots)\in\nngint^\omega$
\emph{strictly increasing} if $a_0 < a_1 < a_2 < \cdots$.  Define the
subset $\Inc \subset \nngint^\omega$ to be the set of strictly
increasing sequences.  Prove that $\nngint^\omega \bij \Inc$ by
\emph{explicitly} constructing a bijection $f:\nngint^\omega \to
\Inc$.  Carefully prove that
\begin{itemize}
\item $f$ is a total function,
\item $f(s)\in \Inc$ for each $s\in \nngint^\omega$,
\item $f$ is injective,
\item $f$ is surjective.
\end{itemize}

\noindent\hint Think sums, but remember that $0\in\nngint$.
  
\begin{solution}
For a sequence $s = (s_0,s_1,s_2,\dots)$, define
\begin{equation*}
  f(s) \eqdef (s_0, s_0+s_1+1, s_0+s_1+s_2+2, \dots, s_0 + s_1 + \cdots + s_n + n), \dots.
\end{equation*}
To verify that $f(s)\in \Inc$, we must check that $f(s)[k] <
f(s)[k+1]$ for each $k\in\nngint$, that is,
\begin{equation*}
  0 < f(s)[k+1] - f(s)[k] =
(s_0 + s_1 + \cdots + s_{k+1} + (k+1)) - (s_0 + s_1 + \cdots + s_k + k)
= s_{k+1} + 1.
 \end{equation*}
But this is true because $s_{k+1}\in\nngint$, so $s_{k+1}+1 >
0$.  Note: this is why we have the $+n$ term in the definition of $f$.
If $f(s)$ were defined simply as the sequence of partial sums
$(s_0,s_0+s_1,\dots)$, then $f(s)$ would only be \emph{weakly}
increasing where $s$ has a $0$ term.)  We now verify the four
required properties:

\begin{description}
\item[\boldmath $f$ is a function:] For each $s\in\nngint^\omega$,
  $f(s)$ takes only the specified value, so $f$ has exactly one arrow
  out.  That is, it is a total function.
      
\item[\boldmath $f(s) \in \Inc$:] For each $s\in\nngint^\omega$, the
  sequence $f(s)$ belongs to $\Inc$ as shown above.
      
\item[\boldmath $f$ is injective:] Suppose $f(s) = f(t)$ where
  $s=(s_0,s_1,\dots)$ and $t=(t_0,t_1,\dots)$ are two integer
  sequences.  We must prove that $s = t$. Because $f(s) = f(t)$ it
  follows that $s_0 = f(s)[0] = f(t)[0] = t_0$.  Similarly, for each $k
  \ge 1$ we have $s_{k} = f(s)[k]-f(s)[k-1] - 1$ and $t_{k} =
  f(t)[k]-f(t)[k-1] - 1$ as computed above, so $s_k = t_k$ as
  well.  Thus $s=t$, as required.
      
\item[\boldmath $f$ is surjective:] Let $v = (v_0,v_1,\dots) \in
  \Inc$ be a strictly increasing sequence; we must find some
  sequence $u = (u_0,u_1,\dots)\in\nngint^\omega$ with $f(u) =
  v$.  As in the previous paragraph, let's choose the sequence with
  $u_0 = v_0$ and $u_{k} = v_{k} - v_{k-1} - 1$ for each $k \ge
  1$.  The elements of this new sequence $u$ are nonnegative
  because $v$ was assumed to be strictly increasing.  We can verify
  that $f(u)[0] = u_0 = v_0$ and
\begin{align*}
f(u)[k]
& = u_0 + u_1 + \cdots + u_k + k \\
& = (v_0) + (v_1 - v_0 - 1) + (v_2 - v_1 - 1) + \cdots + (v_k - v_{k-1}-1) + k \\
& = v_k
  \end{align*}
because all other terms in the sum cancel out.  Thus $f(u) = v$, as required.      
\end{description}
    
Note: if we define the function $g(v) \eqdef (v_0, v_1-v_0-1,
v_2-v_1-1,\dots)$, then the ``surjective'' section above verifies
that $g$ has the correct domain and range, that is,
$g(v)\in\nngint^\omega$) and $f(g(v)) = v$ for each $v\in \Inc$.
The ``injective'' section verifies that $g(f(s))$ for every
$s\in\nngint^\omega$.  Taken together, this proves that $g =
f^{-1}$.

Usually when proving that a function $f$ is a bijection you'll end up
describing the inverse function $f^{-1}$, whether implicitly as above
or explicitly as in this paragraph.
\end{solution}

\end{problem}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
