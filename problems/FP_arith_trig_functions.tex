\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{FP_arith_trig_functions}
  \pcomment{special case of CP_F18_functions}
  \pcomment{by ARM 5/15/11}
\end{pcomments}

\pkeywords{
  recursive_data
  structural_induction
  functions
  composition
  sine
  derivative
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\

\begin{problem}
The Arithmetic Trig Functions (\emph{Atrig}'s) are the set of
functions of one real variable defined recursively as follows:

\textbf{Base cases:}
\begin{itemize}
\item The identity function $\ide(x) \eqdef x$ is an $\textit{Atrig}$,
\item any constant function is an $\textit{Atrig}$,
\item the sine function is an $\textit{Atrig}$,
\end{itemize}

\textbf{Constructor cases:}

If $f,g$ are $\textit{Atrig}$'s, then so are
\begin{enumerate}
\item $f + g$ \label{atrig+}
\item $f\cdot g$ \label{atrigdot}
%\item the inverse function $f^{(-1)}$,\label{inversefunc}
\item the composition $f \compose g$.\label{trigcmp}
\end{enumerate}

\iffalse
\ppart\label{1over} Prove that the function $1/x$ is an $\textit{Atrig}$.

\textbf{Warning:} Don't confuse $1/x = x^{-1}$ with the inverse,
$\ide^{(-1)}$ of the identity function $\ide(x)$.  The inverse
$\ide^{(-1)}$ is equal to $\ide$.

\begin{solution}
$\log x$ is the inverse of $e^x$ so $\log x \in \textit{Atrig}$.  Therefore
  so is $c\cdot \log x$ for any constant $c$, and hence $e^{c \log x} =
  x^c \in \textit{Atrig}$.  Now let $c = -1$ to get $x^{-1} = 1/x \in
  \textit{Atrig}$.\footnote{There's a little problem here: since $\log x$ is not
    real-valued for $x \leq 0$, the function $f(x) \eqdef 1/x$ constructed
    in this way is only defined for $x >0$.  To get an $\textit{Atrig}$ equal to
    $1/x$ defined for all $x \neq 0$, use $\paren{x/\abs{x}}\cdot
    f(\abs{x})$, where $\abs{x} = \sqrt{x^2}$.}
\end{solution}
\fi

Prove by structural induction on this definition that if $f(x)$
is an $\textit{Atrig}$, then so is $f^{\prime} \eqdef df/dx$.

\begin{solution}

\begin{proof}
By Structural Induction on def of $f \in \textit{Atrig}$.  The induction hypothesis
is the above statement to be shown.

\item[\inductioncase{Base Cases}:] We want to show that the derivatives of all the
  base case functions are in $\textit{Atrig}$.

  To begin, the derivative $d\, \ide(x)/dx$ of the identity function
  is the constant function equal to one, and so is in
  $\textit{Atrig}$.  Next, the derivative of a constant function is
  the constant function equal to zero, and so is in \textit{Atrig}.
  Finally, $d\, \sin(x)/dx = \cos(x)$ which is also in
  $\textit{Atrig}$ because $\cos(x) = \sin(x+\pi/2)$, and
  $\sin(x+\pi/2)$ is the composition of the sine function with the sum
  of the identity function and a constant function.

  This proves that the induction hypothesis holds in the Base cases.

\item[\inductioncase{Constructor Cases}:] Assume $f, g, f^{\prime}, g{^\prime} \in
  \textit{Atrig}$ by induction hypothesis.

\item[\inductioncase{Constructor Case}:] ($f + g$)  Then
\[
(f+g)^{\prime} = f^{\prime} + g^{\prime} \in \textit{Atrig}
\]
by~\ref{atrig+}.


\item[\inductioncase{Constructor Case}:] ($f \cdot g$)
Then
\[
(f \cdot g)^{\prime} = f^{\prime}\cdot g  + g^{\prime} \cdot f \in \textit{Atrig}
\]
by~\ref{atrig+}.\ and~\ref{atrigdot}.


\item[\inductioncase{Constructor Case}:] ($f \compose g$)  Then
\[
(f \compose g)' = (f' \compose g) \cdot g'.
\]
The right-hand side of this equation defines a function in $\textit{Atrig}$ by
constructor rules~\ref{trigcmp}.\ and~\ref{atrigdot}.

This completes the proof by structural induction that the statement holds
for all $f \in \textit{Atrig}$.
\end{proof}

\end{solution}

\end{problem}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput

