\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{TP_digraph_triangle_inequality}
  \pcomment{Relocated from digraphs chapter 2/13 by EGM}
\end{pcomments}

\pkeywords{ 
  digraphs 
  inequality
  triangle
  distance
}

\begin{problem}
Lemma~\bref{lem:tri-ineq} states that $\dstuv{u}{v} \leq \dstuv{u}{x}
+ \dstuv{x}{v}$.  It also states that equality holds iff $x$ is on a
shortest path from $u$ to $v$.

\bparts

\ppart Prove the ``iff'' statement from left to right.

\begin{editingnotes}
Insert a clever hint here.
\end{editingnotes}

\begin{solution}

\begin{proof}  
To prove the ``iff'' from left to right, suppose $\dstuv{u}{v} =
  \dstuv{u}{x} + \dstuv{x}{v}$.  Then merging a shortest path from $u$
  to $x$ with shortest path from $x$ to $v$ yields a walk whose length
  is $\dstuv{u}{x} + \dstuv{x}{v}$, which by assumption equals
  $\dstuv{u}{v}$.  This walk must be a path or it could be shortened,
  giving a smaller distance from $u$ to $v$.  So this is a shortest
  path containing $x$.
\end{proof}

\end{solution}

\ppart Prove the ``iff'' from right to left.

\begin{solution}

\begin{proof}
  To prove the ``iff'' from right to left, suppose vertex $x$ is on a
  shortest path $\walkv{w}$ from $u$ to $v$, namely, $\walkv{w}$ is a
  shortest path of the form $\catv{\walkv{f}}{x}{\walkv{r}}$.  The
  path $\walkv{f}$ must be a shortest path from $u$ to $x$; otherwise
  replacing $\walkv{f}$ by a shorter path from $u$ to $x$ would yield
  a shorter path from $u$ to $v$ than $\walkv{w}$.  Likewise
  $\walkv{r}$ must be a shortest path from $x$ to $v$.  So
  $\dstuv{u}{v} = \abs{\walkv{w}} = \abs{\walkv{f}} + \abs{\walkv{r}}
  = \dstuv{u}{x} + \dstuv{x}{v}$.
\end{proof}

\end{solution}

\iffalse
\ppart Conclude that the ``iff'' statement holds.

\begin{solution}
.
\end{solution}
\fi

\eparts


\end{problem}
\endinput
