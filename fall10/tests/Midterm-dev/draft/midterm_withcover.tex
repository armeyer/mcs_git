\documentclass[12pt,oneside]{article}
\usepackage{light}
\usepackage{multicol}
\usepackage{pifont} % for the star
\usepackage{palatino}
\usepackage{mathpazo}
\usepackage{verbatim}

\newcommand{\mfigure}[3]{\bigskip\centerline{\resizebox{#1}{#2}{\includegraphics{#3}}}\bigskip}
\newcommand{\hint}[1]{({\it Hint: #1})}
\newcommand{\brule}[1]{\underline{\hspace{#1}}}
\newcommand{\ang}[1]{\left< #1 \right>}
\newcommand{\beats}{\rightarrow}



\newenvironment{falseproof}
{\begin{proof}[False proof]}
{\end{proof}}

%\showsolutions
\hidesolutions

\begin{document}
\generic{Quiz 1}{October 15, 2008}

\instatements{
\vspace{24pt}
\textbf{Name:} \rule{5in}{0.5pt}

\textbf{Circle the name of your recitation instructor}:

\begin{center}
\begin{tabular}{llllll}
David & Darren & Martyna & Nick & Oscar & Stav 
\end{tabular}
\end{center}

\begin{itemize}

\item This quiz is \textbf{closed book}, but you may have one $8.5
\times 11$'' sheet with notes in your own handwriting on both sides.

\item Calculators are not allowed.

\item You may assume all of the results presented in class.

\item Please show your work.  Partial credit cannot be given for a wrong
answer if your work isn't shown.

\item Write your solutions in the space provided.  If you
need more space, write on the back of the sheet containing the
problem.  Please keep your entire answer to a problem on that
problem's page.

\item Be neat and write legibly.  You will be graded not only on the
correctness of your answers, but also on the clarity with which you
express them.

\item If you get stuck on a problem, move on to others. The problems 
are not arranged in order of difficulty.

\item The exam ends at 9:30 PM.

\end{itemize}

\vspace{0.25in}

\begin{center}
{\large
\begin{tabular}{|c|c|c|c|}
\hline
Problem & Points & Grade & Grader \\ \hline \hline
1 & 10 & & \\ \hline
2 & 15 & & \\ \hline
3 & 20 & & \\ \hline
4 & 10 & & \\ \hline
5 & 15 & & \\ \hline
6 & 10 & & \\ \hline
7 & 20 & & \\ \hline
Total & 100 & & \\ \hline
\end{tabular}
}
\end{center}
}
\instatements{\newpage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                 Martyna: number theory probs
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\card}[1]{\left|#1\right|}

%number theory

\begin{problem}{20}
Define a number
$S_p = 1^p + 2^p +3^p + \ldots (p-1)^p.$
Use Fermat's theorem to show that if $p$ is an odd prime, then $p|S_p$.

\solution{
\begin{eqnarray*}
S_p &\equiv& 1^p + 2^p + \ldots (p-1)^p\\
& \equiv& 1\cdot1^{p-1} + 2\cdot2^{p-1} + \ldots + (p-1)\cdot (p-1)^{p-1}\\
& \equiv& 1\cdot 1 + 2 \cdot 1 + \ldots + (p-1) \cdot 1\\
& \equiv& 1+2+\ldots + (p-1)\\
& \equiv & \frac{(p-1)p}2 \pmod p
\end{eqnarray*}
$p$ is odd, so $p-1$ is even, which means $\frac{p-1}2$ is some integer $k$. Therefore
\[S_p \equiv kp \equiv 0 \pmod p,\]
so $p|S_p$.
}

\end{problem}

\begin{problem}{20}
Suppose $S(n)$ is a predicate on natural numbers, $n$, and suppose
\begin{equation}\label{Sk2}
\forall k \in \mathbb{N} \; S(k) \implies S(k+2).
\end{equation}
If~(\ref{Sk2}) holds, some of the assertions below must \emph{always}
(\textbf{A}) hold, some \emph{can} (\textbf{C}) hold but not always,
and some can \emph{never} (\textbf{N}) hold.  Indicate which case
applies for each of the assertions by \textbf{circling} the correct
letter.

\bparts

\ppart{2}  \hspace{.2in} {\bf A C N \hspace{.2in}} 
$\forall n \ge 0\; S(n)$ 
\solution{\textbf{C}.
The assertion means that $S$ is always true.  So $S(k+2)$ is always true, and
therefore $S(k) \implies S(k+2)$ is always true.  So this case is possible.
But~\ref{Sk2} also holds when $S$ is always false, so the asertion does not
always hold when \ref{Sk2} does}

\ppart{2} \hspace{.2in} {\bf A C N \hspace{.2in}} $\neg{S(0)}
\land \forall n \ge 1\; S(n)$ 
\solution{\textbf{C}.
This time $S$ is false at 0, but true everywhere else.  So $S(k) \implies
S(k+2)$ still always holds because $S(k+2)$ is still always true.  So this
assertion can hold, but not always, since~(\ref{Sk2}) can hold when $S(0)$ is
true.}

\ppart{2}  \hspace{.2in} {\bf A C N \hspace{.2in}} 
$\forall n \ge 0\; \neg{S(n)}$
\solution{\textbf{C.}
Now $S$ is always false.  So $S(k) \implies S(k+2)$ is always true because
$S(k)$ is false.  So this case is possible, but again does not always hold.}

\ppart{2}  \hspace{.2in} {\bf A C N \hspace{.2in}} 
$(\forall n \le 100\; S(n)) \land (\forall n > 100\; \neg{S(n)})$ 
\solution{\textbf{N}.
In this case, $S$ is true for $n$ up to 100 and false from 101 on.  So $S(99)$
is true, but $S(101)$ is false.  That means that $S(k) \not \implies S(k+2)$
for $k = 99$.  This case is impossible.}

\ppart{2} \hspace{.2in} {\bf A C N \hspace{.2in}} $(\forall n
\le 100\; \neg{S(n)}) \land (\forall n > 100\; S(n))$ 
\solution{\textbf{C}.
In this case, $S$ is false for $n$ up to 100 and true from 101 on.  So $S(k)
\implies S(k+2)$ for $k \le 100$ because $S(k)$ is false, and $S(k) \implies
S(k+2)$ for $k \ge 99$ because $S(k+2)$ is true.  So this case is possible, but
again does not always hold}

\ppart{2}  \hspace{.2in} {\bf A C N \hspace{.2in}} 
$S(0) \implies \forall n\ S(n+2)$ 
\solution{\textbf{C}.
If $S(n)$ is always true this assertion holds.  So this case is possible.  If
$S(n)$ is true only for even $n$~(\ref{Sk2}) still holds, but $S(1+2)$ is
false.  So this case does not always hold.}

\ppart{2}  \hspace{.2in} {\bf A C N \hspace{.2in}} 
$S(1) \implies \forall n\ S(2n+1)$
\solution{\textbf{A}.
This assertion says that if $S(1)$ holds, then $S(n)$ holds for all odd $n$.
This case is always true.}

\ppart{2}  \hspace{.2in} {\bf A C N \hspace{.2in}} 
$[\exists n\, S(2n)] \implies \forall n \ S(2n+2)$
\solution{\textbf{C}.
If $S(n)$ is always true, this assertion holds.  So this case is possible.  If
$S(n)$ is true only for even $n$ greater than 4,~(\ref{Sk2}) holds, but this
assertion is false. So this case does not always hold.}

\ppart{2}  \hspace{.2in} {\bf A C N \hspace{.2in}} 
$\exists n\, \exists m > n\, [S(2n) \land \neg{S(2m)}]$
\solution{\textbf{N}.
This assertion says that $S(n)$ holds for some even number ($2n$) but not for
some other larger even number ($2m$).  However, if $S(2n)$ holds, we can
apply~(\ref{Sk2}) $n-m$ times to conclude $S(2m)$ also holds.  This case is
impossible.}

\ppart{2}  \hspace{.2in} {\bf A C N \hspace{.2in}} 
$[\exists n\, S(n)] \implies \forall n\, \exists m> n\, S(m)$
\solution{\textbf{A}.
This assertion says that if $S(n)$ holds for some $n$, then for every number,
there is a larger number $m$ for which $S(m)$ also holds.  Since~(\ref{Sk2})
implies that if there is one $n$ for which $S(n)$ holds, there are an infinite,
increasing chain of $k$s for which $S(k)$ holds, this case is always true.}

\iffalse
\ppart{2}  \hspace{.2in} {\bf A C N \hspace{.2in}} 
$\neg{S(0)} \implies \forall n \ \neg{S(2n)}$
\fi

\eparts
\end{problem}

\begin{problem}{20}
% Strong Induction

Let $G_0=1$, $G_1=2$, $G_2=4$, and define
\begin{equation}\label{Pn}
G_n =  G_{n-1} +2G_{n-2} + G_{n-3}
\end{equation}
for $n \geq 3$.  Show by induction that $G_n\leq \paren{2.2}^n$ for all $n \geq
0$.

\solution{

The proof is by strong induction with hypothesis $P(n) := G_n\leq \paren{2.2}^n$.

\begin{proof}
\textbf{Base Cases}

\textbf{$n=0$:} $G_0 = 1 = \paren{2.2}^0$.

\textbf{$n=1$:} $G_1 = 2 < 2.2 = \paren{2.2}^1$.

\textbf{$n=2$:} $G_2 =f 4 < 4.84 = \paren{2.2}^2$.

\textbf{Inductive Step}:
Assume $n \geq 2$ and $P(k)$ for all $k$ such that $0 \leq k \leq n$.
\begin{align*}
G_{n+1}
& = G_n +2G_{n-1} + G_{n-2} & \text{by~\eqref{Pn}}\\
& \leq (2.2)^n + 2(2.2)^{n-1} + (2.2)^{n-2} & \text{by induction hypothesis}\\
& = (2.2)^{n-2} [(2.2)^2 + 2(2.2) + 1]\\
& = (2.2)^{n-2} [(2.2 + 1)^2]\\
& = (2.2)^{n-2} (3.2)^2\\
& = (2.2)^{n-2} (10.24)\\
& < (2.2)^{n-2} (10.648)\\
& = (2.2)^{n-2} (2.2)^3\\
& = (2.2)^{n+1}
\end{align*}
\end{proof}
}
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%                        stable-matching-unique
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}{0}
Consider a stable marriage problem with 4 boys and 4 girls. Here
are their preference rankings:

\begin{center}
\begin{tabular}{r|c} 
Alfred:    & Grace, Helen, Emily, Fiona    \\
Billy:     & Emily, Grace, Fiona, Helen    \\
Calvin:    & Helen, Emily, Fiona, Grace    \\
David:     & Helen, Grace, Emily, Fiona
\end{tabular}
\end{center}

\begin{center}
\begin{tabular}{r|c} 
Emily:     & Calvin, Alfred, David,  Billy    \\
Fiona:     & Alfred, Billy,  Calvin, David    \\
Grace:     & Alfred, Calvin, David,  Billy    \\
Helen:     & Alfred, Billy,  David,  Calvin
\end{tabular}
\end{center}

\bparts

\ppart{0}
Exhibit a stable matching between the boys and girls.

\vspace{2in}

\solution{
(Alfred, Grace), (Billy, Fiona), (Calvin, Emily), (David, Helen)
}

\ppart{0} Explain why this is the only stable matching possible.

\vspace{2in}
\solution{
The Mating Ritual reveals that the boy-optimal and boy-pessimal
(obtained by switching the roles of boys and girls) matchings are the
same, so the matching in the previous part is unique.
}

\ppart{0} Suppose that Harry is one of the boys and Alice is one of the girls
when a Mating Ritual is performed.  Circle the properties
below that must be preserved invariants.
\renewcommand{\theenumi}{\roman{enumi}}
\renewcommand{\labelenumi}{(\theenumi)}

\begin{enumerate}

\item Harry is serenading Alice.

% \item Alice is the only girl on Harry's list.

% \item Three girls have boys serenading them.

\item Alice is crossed off Harry's list.

\item Alice likes her favorite better than Harry.

%\item Alice has no suitors.

\item Alice has at least one suitor.

%\item Alice has exactly one suitor.

\item Harry is serenading a girl he likes better than Alice.

\item Harry is serenading a girl he likes less than Alice.


\end{enumerate}

\solution{
\mbox{ }

\begin{enumerate}

\item NOT preserved.  Harry will be rejected when Alice gets a better suitor.

\item Preserved.  No girls ever get added to Harry's list, so if Alice is
off, she stays off.

\item Preserved: the quality of Alice's favorites is weakly increasing.

\item Preserved: the quality of Alice's favorites is weakly increasing.

\item NOT preserved; if the girl he is serenading rejects him, Alice
might be next on Harry's list.

\item Preserved: the quality of the girl Harry serenades is is weakly decreasing.

\end{enumerate}
}

\eparts

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%                    stable_matching_unlucky
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\providecommand{\boys}{\text{Boys}}
\providecommand{\girls}{\text{Girls}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{problem}{0}
In a stable matching between $n$ boys and girls produced by the Mating
Ritual, call a person \term*{lucky} if they are matched up with one of
their $\ceil{n/2}$ top choices.  We will prove:
\begin{theorem*}%\label{luckyperson}
There must be at least one lucky person.
\end{theorem*}

To prove this, define the following derived variables for the Mating Ritual:
\begin{description}
\item $r(B) = j$, when the boy $B$ is courting the $j$th girl
on his list.

\item $r(G)$ is the number of boys that girl $G$ has rejected.
\end{description}

\begin{problemparts}

\ppart{0} \label{Ssame}
Let
\begin{equation}\label{Seqsumb}
S  \sum_{B \in \boys} r(B) - \sum_{G \in \girls} r(G).
\end{equation}
Show that $S$ remains the same from one day to the next in the Mating
Ritual.

\solution{
Suppose the Mating Ritual is under way.  If the girl $G$ has $m>1$
suitors then she will reject $m-1$ of them, so $r(G)$ will increase by
$m-1$.  But $r(B)$ increases by 1 for each of these rejected suitors,
$B$, so the right hand side of~\eqref{Seqsumb} will be the same
tomorrow.
}

\ppart{0} Prove the Theorem above.                        %~\ref{luckyperson}
(You may assume for simplicity that $n$ is even.)

\hint A girl is sure to be lucky if she has rejected half the boys.

\solution{
Note that on the first morning, the $n$ boys are courting their first
choice girl and the girls haven't rejected anyone yet.  So $S=n$.
By part~\eqref{Ssame}, $S$ remains equal to $n$ every day.

Now suppose to the contrary that no person is lucky.  Since boy $B$ is, by
definition, lucky iff $r(B) \leq \ceil{n/2}$, we have
\[
r(B) \geq \ceil{\frac{n}{2}} + 1
\]
for all boys, $B$.

Now the rank of a girl's suitor will be higher than the ranks of any she
has rejected, so she will certainly be lucky if she has rejected at least
$\ceil{n/2}$ suitors, so
\[
r(G)  \leq \ceil{\frac{n}{2}} - 1,
\]
for all girls, $G$.

It follows that $2n \leq \sum_{B \in \boys} r(B) - \sum_{G \in \girls}
r(G) = S$, contradicting the fact that $S=n$.
}

\end{problemparts}
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%                 problems from Stav
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{problem}{0}
Prove:  Any graph in which every vertex has deg $\ge2$ contains a cycle.
\end{problem}

\begin{problem}{0}
In this problem we consider \emph{edge coloring} of a simple graph.  An edge coloring is a graph coloring where we color edges instead of vertices.  Recall that in a coloring of vertices, two adjacent vertices may not be the same coloring.  Similarly, in an edge coloring, any two edges which are incident on the same vertex must not be the same color. 

Prove that a bipartite graph is edge-colorable with a number of colors equal to the maximum degree of any vertex in the graph.
\end{problem}

\begin{problem}{0}
Induction: Prove that a sum of consecutive odd numbers (beginning with $1$); i.e. $$\sum_{i=0}^{n}2i+1$$ with $n \ge 1$; is a perfect square.

\emph{Hint: prove something stronger}
\end{problem}

\begin{problem}{10}
Taken from: http://www.cut-the-knot.org/ctk/invariant.shtml
\bparts

\ppart{5}
In the game of Squares and Circles, the players (you and your computer) start with a sequence of shapes: some circles and some squares. On each move a player selects two shapes. These two are replaced with a single one according to the following rule:

Identical shapes are replaced with a square. Different shapes are replaced with a circle.

At the end of the game, when only one shape remains, you are a winner if the remaining shape is a circle. Otherwise, your computer wins. Prove that you will win if the number of circles initially is odd. Hint: Use an invariant about the parity of the number of circles.
 
\ppart{5}
The game extends to a 3-shape puzzle. Let there be three kinds of shapes: squares, circles, and triangles. A move consists in selecting two objects of different shapes which are then replaced with an object of the remaining shape. Prove that we can always achieve a state with all shapes the same (e.g. all squares). Hint: Use an invariant relating to the total number of shapes.

\eparts

\end{problem}

\begin{problem}{10}
Use integration to find upper and lower bounds that differ by at most
0.5 for the following sum.  (You may need to add the first few terms
explicitly and then use integrals to bound the sum of the remaining
terms.)
%
\[
\sum_{i=1}^{\infty} \frac{1}{i^3}
\]

\end{problem}

\end{document}
