\documentclass[problem]{mcs}

\begin{pcomments}
\pcomment{PS_max_algorithm_expectation}
\pcomment{F95.ps11}
\pcomment{edited by ARM 5/9/12}
\end{pcomments}

\pkeywords{
 probability
 expectation
 maximum
 harmonic
 indicator_variable
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
We are given a random vector of $n$ distinct numbers.  We then
determine the maximum of these numbers using the following procedure:

Pick the first number.  Call it the \emph{current maximum}.  Go through
the rest of the vector (in order) and each time we come across a number (call it $x$)
that exceeds our {current maximum}, we update the {current maximum}
with $x$.

What is the expected number of times we update the current
maximum?  

\hint Let $X_i$ be the indicator variable for the event that the $i$th
element in the vector is larger than all the previous elements.


\begin{solution}
Let's fix the $n$ numbers we are given.  We can assume that we are
given a random permutation of the $n$ numbers.  For $i \in
\Zintv{1}{n}$, let $X_i$ be the indicator variable for the event that
the $i$th element in the vector is larger than all the previous
elements.

Note that the number of times we update the current maximum is
precisely $X_1 + \cdots + X_n$.  Since expectation is a linear
operator, we can compute $\expect{X_1 + \cdots + X_n}$ by finding
$\expect{X_i}$ for each $i$ and summing them up.  

Since $X_i$ is an indicator, we only have to find $\prob{X_i=1}$.  In
a random permutation, $X_i=1$ happens with probability $1/i$.  Why?  If
you take $i$ distinct numbers and randomly permute them, the
probability that the largest one occupies the last (or any given)
position is $1/i$.

\begin{editingnotes}
That is, if we let $S$ range over all size $i$ subsets of the $n$
numbers, then
\begin{align*}
\prob{X_i = 1} & = \sum_S \prcond{X_i = 1}{S= \mbox{the first
    $i$ elements of the permutation}}\cdot \prob{S= \mbox{the first
    $i$ elements of the permutation}}\\
& = \sum_S \frac{1}{i} \cdot \prob{S= \mbox{the first
    $i$ elements of the permutation}}\\
& = \frac{1}{i} \sum_S \prob{S= \mbox{the first
    $i$ elements of the permutation}}\\
& = \frac{1}{i}\, .
\end{align*}
\end{editingnotes}
Thus,
\begin{align*}
\expect{X} & =  \sum_i \pr{X_i=1}\\
& = \sum_{i=1}^n \frac1i \\
& =  H_n \approx \ln n,
\end{align*}
where $H_n$ is the $n$th Harmonic number.
\end{solution}

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
