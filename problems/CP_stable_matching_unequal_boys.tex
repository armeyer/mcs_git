\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_stable_marrage_unequal_boys}
  \pcomment{renamed from CP_matching_more_boys}
  \pcomment{by ARM 3/15/11, revised 4/6/15}
  \pcomment{similar to CP_mating_ritual_proof,
            but requires slightly more insight}
\end{pcomments}

\pkeywords{
 stable_matching
 Mating_ritual
 invariant
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
The Mating Ritual \inbook{of Section~\bref{mating_ritual_sec}} for
finding stable marriages works even when the numbers of men and women
are not equal.  As before, a set of (monogamous) marriages between men
and women is called stable when it has no ``rogue couples.''

\bparts

\ppart\label{genrogue} Extend the definition of \emph{rogue couple} so
it covers the case of unmarried men and women.  Verify that in a
stable set of marriages, either all the men are married or all the
women are married.

\examspace[0.7in]

\begin{solution}
A rogue couple for a given set of marriages is a woman, Alice, and a
man, Bob, such that
\begin{itemize}
\item Alice is unmarried or has a spouse she likes less than Bob, and also
\item Bob is unmarried or has a spouse he likes less than Alice.
\end{itemize}
By this definition, if both a man and a woman are unmarried, they are
a rogue couple, so in a stable set of marriages, either all the men
are married or all the women are married.
\end{solution}

\ppart Explain why even in the case of unequal numbers of men and
women, applying the Mating Ritual will yield a stable matching.

\examspace[4in]

\begin{solution}
The preserved invariant\inhandout{\footnote{For every woman $w$ and
    every man $m$ if $w$ is crossed off $m$'s list, then $w$ has a
    suitor whom she prefers over~$m$.}}
\inbook{of Section~\bref{def:stable-invar}} and termination proof for the
Mating Ritual apply in this case without change, so we just need to
verify that there are no rogue couples of the more general kind in
part~\eqref{genrogue}.

As before, on the Wedding Day, no man will be in a rogue couple with a
woman \emph{not on} his final list because, by the preserved
invariant, any such woman has a spouse she prefers to him.  But no man
will be in a rogue couple with a woman still on his final list because
he must be married to that woman or to a woman higher on his list who,
by definition, he finds more preferable.  (We know that the man in this
last case must actually be married, because if he weren't, he would be
crossing off the top-ranked woman on his list and continuing to serenade
his next choice tomorrow, and the Ritual would not have ended yet.)

\end{solution}
\eparts
\end{problem}

\endinput
