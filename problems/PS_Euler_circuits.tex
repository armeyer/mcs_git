\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_Euler_circuits}
  \pcomment{undirected version of PS_directed_Euler_circuits}
  \pcomment{solns could use some editing as in PS_directed_Euler_circuits}
  \pcomment{revised slightly by ARM 4/1/11}
  \pcomment{from: S09.ps5; F06.rec6 (revised by ARM)}
\end{pcomments}

\pkeywords{
  Euler
  Euler_circuit
  Euler_tour
  cycle
  degree
  walk
  closed_walk
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
An \term{Euler tour} of a graph is a closed walk that includes
every edge exactly once.\footnote{In some other texts, this is called an
  \emph{Euler circuit}.}  In this problem we work out a proof of:
\begin{theorem*}%\label{thm:euler-tour}
A connected graph has an Euler tour if and only if every vertex has
even degree.
\end{theorem*}

\bparts

\ppart Show that if a graph has an Euler tour, then the degree of each
of its vertices is even.

\begin{solution}
Let tour $C \eqdef v_1, v_2, \dots, v_r, v_1$ be an Euler tour.
Consider any vertex $v$.  Then every time $v$ occurs in $C$, there is
a vertex $a$ which comes immediately before $v$ and a vertex $b$ which
comes immediately after $v$.  Note that this holds for $v = v_1$ as
well since $C$ is a tour.  Moreover, $\diredge{a}{v}$ and
$\diredge{v}{b}$ must be distinct edges of $G$ since $C$ is an Euler
tour.  It follows that if $v$ occurs $s$ times in $C$, then it has
degree $2s$ since every edge incident to $v$ occurs in $C$ exactly
once.  Thus, $v$ has even degree.
\end{solution}

\eparts

\bigskip

In the remaining parts, we'll work out the converse: if the degree of
every vertex of a connected finite graph is even, then it has an Euler
tour.  To do this, let's define an Euler \term{walk} to be a walk that
includes each edge \emph{at most} once.

\bparts

\ppart\label{conn-undirected} Suppose that an Euler walk in a
connected graph does not include every edge.  Explain why there must
be an unincluded edge that is incident to a vertex on the walk.

\begin{solution}
If either end of the unincluded edge is on the Euler walk, that
already is the desired edge.  So suppose there's an unincluded edge,
$e$, both of whose endpoints are not on the Euler walk.  Since the
graph is connected, there must be a shortest walk $\walkv{p}$ from
an endpoint of $e$ to a vertex on the Euler walk.  Then none of the
edges on $\walkv{p}$ can be on $\walkv{p}$ or $\walkv{p}$ could be
shortened.  So the last edge on $\walkv{p}$ will be the desired edge.
\end{solution}

\eparts

In the remaining parts, let $\walkv{w}$ be the \emph{longest} Euler
walk in some finite, connected graph.

\bparts

\ppart\label{cycle-circuit-undirected} Show that if $\walkv{w}$ is a
closed walk, then it must be an Euler tour.

\hint part~\eqref{conn-undirected}

\begin{solution}
Suppose an edge was in $\walkv{w}$.  By part~\eqref{conn-undirected},
there must be a vertex on $\walkv{w}$ incident to an edge not in
$\walkv{w}$.  Starting at this vertex, go around $\walkv{w}$ back to
that vertex, and then the follow the edge.  This makes a longer Euler
walk, contradicting the maximality of $\walkv{w}$.  So no edge can be
missing from $\walkv{w}$.
\end{solution}

\ppart\label{already-undirected} Explain why all the edges incident to
the end of $\walkv{w}$ must already be in $\walkv{w}$.

\begin{solution}
Otherwise we could extend $\walkv{w}$ to a longer Euler walk with any
  edge from the end not already in $\walkv{w}$.
\end{solution}

\ppart\label{odd-undirected} Show that if the end of $\walkv{w}$ was
not equal to the start of $\walkv{w}$, then the degree of the end
would be odd.

\hint part~\eqref{already-undirected}

\begin{solution}
Let $v$ be the end vertex of $\walkv{w}$.  Given that $v$ is not the
start of $\walkv{w}$, it follows that at any occurrence of $v$ in
$\walkv{w}$ other than at the end, $\walkv{w}$ would enter and leave
that occurrence of $v$ with a pair of edges.  Since $\walkv{w}$ is an
Euler walk, all the edges in all these pairs are distinct.  In
addition, the final edge in $\walkv{w}$ as it ends at $v$ is
distinct from all the paired edges.  Altogether, this imples that
there are an odd number of edges in $\walkv{w}$ that are incident to
$v$.  But by part~\eqref{already-undirected}, these are all the edges
incident to $v$, proving that $v$ has odd degree.
\end{solution}

\ppart Conclude that if every vertex of a finite, connected graph has
even degree, then it has an Euler tour.

\begin{solution}
If all vertices in $G$ have even degree, then by
part~\eqref{odd-undirected}, the only possibility is that the end of
$\walkv{w}$ equals the start, that is, $\walkv{w}$ is closed.  So by
part~\eqref{cycle-circuit-undirected}, $\walkv{w}$ is an Euler tour.
\end{solution}

\eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
