%  light.sty

%  This is a simple style file for 6.042 created by Eric Lehman in Fall 2004.
%  Here is a summary of the commands, excluding mathematical symbols and
%  theorem environments, which are defined at the end of the file.

%  \generic{title}{date}
%  \lecture{topic}{date}
%  \recitation{number}{date}
%  \problemset{number}{release date}{due date}
%  \showsolutions
%  \hidesolutions
%  \begin{problem}[POINT VALUE]
%    \bparts
%    \ppart
%    \eparts
%  \end{problem}
%  \solution[EXTRA SPACE]{...}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%  require other packages

\RequirePackage{ifthen}
\RequirePackage{amsmath}
\RequirePackage{amsthm}
\RequirePackage{amssymb}
\RequirePackage{xspace}
\RequirePackage{graphics}
\RequirePackage[usenames,dvipsnames]{color}
\RequirePackage[pdflatex]{graphicx}
\RequirePackage[
     colorlinks, bookmarksopen, pdfpagemode=UseOutlines,
    linkcolor=blue, citecolor=blue,
    urlcolor=blue, backref, pagebackref]{hyperref}
%\RequirePackage{palatino}
\RequirePackage{textcomp}
\RequirePackage{enumerate}


%\newcommand{\coursecopyright}{%
  %\renewcommand{\thefootnote}{}%
  %\footnotetext{%
    %Copyright~\copyright~2004, 
    %Eric Lehman \& F.T. Leighton. All rights reserved.}
  %\renewcommand{\thefootnote}{\arabic{footnote}}}%

\newcommand{\bugfixes}{%
  %\renewcommand{\thefootnote}{}%
  %\footnotetext{%
    %If you suspect you've found an error in these notes or you just find a part hopelessly confusing, please send email to e\underline{\hspace{1ex}}lehman@mit.edu, and I'll try to fix the problem.
    }
  %\renewcommand{\thefootnote}{\arabic{footnote}}}%

\newcommand{\stamp}{%
  {\scriptsize{revised \today, \the\time\ minutes}}}

\newcommand{\coursename}{6.042/18.062J Mathematics for Computer Science}
\newcommand{\coursestaff}{Tom Leighton and Marten van Dijk}

%  page format

\setlength{\parindent}{3ex}
\setlength{\parskip}{\medskipamount}
\hoffset        = -1.0 in
\voffset        = -1.0 in
\paperheight    = 11.0 in
\paperwidth     =  8.5 in
\topmargin      = 0.75 in
\headheight     = \baselineskip
\headsep        = \baselineskip
\footskip       = 1.00 in
\textheight     = \paperheight
\addtolength{\textheight}{-\topmargin}
\addtolength{\textheight}{-\headheight}
\addtolength{\textheight}{-\headsep}
\addtolength{\textheight}{-\footskip}
\textwidth      = \paperwidth
\oddsidemargin  = 1.0 in
\evensidemargin = 1.0 in
\addtolength{\textwidth}{-\oddsidemargin}
\addtolength{\textwidth}{-\evensidemargin}
\linewidth      = \textwidth

%  generic papers, lectures, recitations, problem sets

\newcommand{\generic}[2]{
  \noindent \coursename \hfill #2 \newline
  \coursestaff \vspace{-1.5ex} \newline
  \mbox{} \hrulefill \mbox{}
  \vspace{0.25in}
  \begin{center}
    {\Large \textbf{#1}}
  \end{center}
  \thispagestyle{plain}
  \pagestyle{myheadings}
  \thispagestyle{empty}
  \markboth{#1}{#1}
  %\coursecopyright
  }

\newcommand{\lecture}[2]{
  \noindent \coursename \hfill #2 \newline
  \coursestaff \hfill Lecture Notes \vspace{-1.5ex} \newline
  \mbox{} \hrulefill \mbox{}
  \vspace{0.25in}
  \begin{center}
    {\Large \textbf{#1}}
  \end{center}
  \thispagestyle{plain}
  \pagestyle{myheadings}
  \thispagestyle{empty}
  \markboth{#1}{#1}
  %\bugfixes
  }

\newcommand{\recitation}[2]{
  \noindent \coursename \hfill #2 \newline
  \coursestaff \vspace{-1.5ex} \newline
  \mbox{} \hrulefill \mbox{}
  \vspace{0.25in}
  \begin{center}
    \ifthenelse{\boolean{showsolutions}}
               {\Large \textbf{Notes for Recitation #1}}
               {\Large \textbf{Problems for Recitation #1}}
  \end{center}
  \thispagestyle{plain}
  \pagestyle{myheadings}
  \thispagestyle{empty}
  \markboth{Recitation #1}{Recitation #1}
  %\coursecopyright
  }

\newcommand{\problemset}[3]{
  \noindent \coursename \hfill #2 \newline
  \coursestaff \vspace{-1.5ex} \newline
  \mbox{} \hrulefill \mbox{}
  \vspace{0.25in}
  \begin{center}
    \ifthenelse{\boolean{showsolutions}}
            {\Large \textbf{Problem Set #1 Solutions}}
            {\Large \textbf{Problem Set #1}}
  \end{center}
  \begin{center}
              \textbf{Due:} #3
  \end{center}
  \thispagestyle{plain}
  \pagestyle{myheadings}
  \thispagestyle{empty}
  \markboth{Problem Set #1}{Problem Set #1}
  %\coursecopyright
  }

\newcommand{\quiz}[2]{
  \noindent \coursename \hfill #2 \newline
  \coursestaff \vspace{-1.5ex} \newline
  \mbox{} \hrulefill \mbox{}
  \vspace{0.25in}
  \begin{center}
    \ifthenelse{\boolean{showsolutions}}
               {\Large \textbf{Quiz #1 Solutions}}
               {\Large \textbf{Quiz #1}}
  \end{center}
  \thispagestyle{plain}
  \pagestyle{myheadings}
  \thispagestyle{empty}
  \markboth{Quiz #1}{Quiz #1}
  %\coursecopyright
  }

\theoremstyle{definition}

%\newtheorem{problem}{Problem}

%%% new lines: %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newtheorem{problemthm}{Problem}
\newenvironment{problem}[1]
  {\begin{problemthm}%
   \pdfbookmark[1]{Problem~\theproblemthm}
   {Problem\theproblemthm} \textbf{[#1 points]}
   \setlength{\parindent}{0pt}%
   \setcounter{outerproblempart}{0}}
  {\end{problemthm}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\iffalse
\newcounter{problempart}
\renewcommand{\theproblempart}{\alph{problempart}}
\newcommand{\bparts}{
    \begin{list}{\textbf{(\alph{problempart})}}{\usecounter{problempart}}}

%\newcommand{\ppart}{\item}

%%% new lines: %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ppart}[1]
  {\item% 
  	\textbf{[#1 points]}
   %\pdfbookmark[2]{(\theproblempart)}{Problem\theproblemthm\theproblempart}}
   }
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\eparts}{\end{list}}
\fi

\newlength{\problempartsep}
\setlength{\problempartsep}{1ex}
\newcounter{outerproblempart}
\newcounter{problempart}
\renewcommand{\theproblempart}{\alph{problempart}}
\newenvironment{problemparts}
  {\begin{list}
         {\textbf{(\alph{problempart})}}
         {\usecounter{problempart}
          \settowidth{\labelwidth}{\textbf{(m)}}
          \setlength{\labelsep}{1ex}
          \setlength{\leftmargin}{0pt}
          \setlength{\itemindent}{\labelwidth}
            \addtolength{\itemindent}{\labelsep}
          \setlength{\rightmargin}{0pt}
          \setlength{\listparindent}{0pt}
          \setlength{\itemsep}{\problempartsep}}
   \setcounter{problempart}{\value{outerproblempart}}}
  {\setcounter{outerproblempart}{\value{problempart}}
   \end{list}}
\newcommand{\problempartbookmark}{%
  \pdfbookmark[2]{(\theproblempart)}{Problem\theproblemthm\theproblempart}}
\newcommand{\problempart}[1][0]{\item\problempartbookmark}

\newcommand{\pref}[1]{(\ref{#1})}
\newcommand{\ppref}[2]{\ref{#1}(\ref{#2})}

\newcommand{\bparts}{\begin{problemparts}}
\newcommand{\eparts}{\end{problemparts}}
\newcommand{\ppart}[1]{\problempart\,\text{[#1\,pts]}}



% subparts
\newcounter{problemsubpart}
\renewcommand{\theproblemsubpart}{\roman{problemsubpart}}
\newcommand{\bsubparts}{
    \begin{list}{\textbf{(\roman{problemsubpart})}}{\usecounter{problemsubpart}}}
\newcommand{\psubpart}%[1]
  {\item%
 %  \pdfbookmark[2]{(\theproblemsubpart) %\textbf{[#1 points]}
%   }{Problem\theproblemthm\theproblemsubpart}}
}\newcommand{\esubparts}{\end{list}}




\newboolean{showsolutions}
\newcommand{\showsolutions}{\setboolean{showsolutions}{true}}
\newcommand{\hidesolutions}{\setboolean{showsolutions}{false}}
\theoremstyle{definition}
\newtheorem*{solution*}{Solution}
\newcommand{\showsolution}[1]{%
  \begin{solution*}%
  \setlength{\parindent}{0pt}%
  \setlength{\leftskip}{7pt}%
  #1%
  \hfill$\blacksquare$
  \end{solution*}}
\newcommand{\solution}[2][]{
  \ifshowsolutions
  \showsolution{#2}
  \else
  #1
  \fi}
%\newcommand{\solution}[2][\vspace{0in}]{\ifthenelse{\boolean{showsolutions}}{\textbf{Solution.} #2}{#1}}
\newcommand{\insolutions}[1]{\ifthenelse{\boolean{showsolutions}}{#1}{}}
\newcommand{\instatements}[1]{\ifthenelse{\boolean{showsolutions}}{}{#1}}

%  text highlighting

\setlength{\fboxsep}{2ex}
\newlength{\textboxwidth}
\setlength{\textboxwidth}{\linewidth}
\addtolength{\textboxwidth}{-2\fboxrule}
\addtolength{\textboxwidth}{-2\fboxsep}

\newcommand{\floatingtextbox}[1]{
  \begin{figure}[htbp]
  \begin{center}\fbox{\begin{minipage}[t]{\textboxwidth}
  \vspace{0.5ex} #1 \vspace{0.5ex}
  \end{minipage}}\end{center}
  \end{figure}}

\newcommand{\textbox}[1]{
  \begin{center}\fbox{\begin{minipage}[t]{\textboxwidth}
  \vspace{0.5ex} #1 \vspace{0.5ex}
  \end{minipage}}\end{center}}

\newcommand{\term}[1]{\textbf{\textit{#1}}}

%  theorems

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\newtheorem*{theorem*}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem*{lemma*}{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem*{corollary*}{Corollary}
\newtheorem{claim}[theorem]{Claim}
\newtheorem*{claim*}{Claim}
\newtheorem{falseclm}[theorem]{False Claim}
\newtheorem*{falseclm*}{False Claim}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem*{conjecture*}{Conjecture}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem*{proposition*}{Proposition}
\newtheorem{axiom}{Axiom}
\newtheorem*{axiom*}{Axiom}
\newtheorem{mathrule}{Rule}
\newtheorem*{mathrule*}{Rule}
\newtheorem{fact}{Fact}
\newtheorem*{fact*}{Fact}
\newtheorem{definition}{Definition}
\newtheorem*{definition*}{Definition}
\newtheorem{guess}{Guess}
\newtheorem*{guess*}{Guess}

%  mathematics macros

\newcommand{\rem}{\operatorname{\,rem\,}}
\newcommand{\set}[1]{\left\{#1\right\}}
\newcommand{\seq}[1]{\left\langle#1\right\rangle}
\newcommand{\size}[1]{\left|#1\right|}
\renewcommand{\implies}{\Rightarrow}
\renewcommand{\iff}{\Leftrightarrow}
\newcommand{\floor}[1]{\left\lfloor#1\right\rfloor}
\newcommand{\ceil}[1]{\left\lceil#1\right\rceil}
%\newcommand{\pr}[1]{\Pr\left(#1\right)}
\newcommand{\paren}[1]{\left(#1\right)}
\newcommand{\ex}[1]{\operatorname{Ex}\left(#1\right)}


\newcommand{\new}{\forall^{(1)}}

% logic terms
\newcommand{\true}{\mathbin{\mathtt{true}}}
\newcommand{\false}{\mathbin{\mathtt{false}}}
\newcommand{\nand}{\mathbin{\mathtt{nand}}}
\newcommand{\nor}{\mathbin{\mathtt{nor}}}
\newcommand{\xor}{\mathbin{\mathtt{xor}}}

\newcommand{\divides}{\mbox{ | }}

%%% Math --- Probability %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\sspace}{\mathcal{S}}

\newcommand{\pr}[1]{\mathop{\textup{Pr}}\nolimits\left\{#1\right\}}
%\newcommand{\prob}[1]{\pr{#1}}
%\newcommand{\prsub}[2]{\mathop{\textup{Pr}_{#2}}\nolimits\left\{#1\right\}}
%\newcommand{\prcond}[2]{%
%  \ifinner \settoheight{\strutheight}{$#1 #2$}
%  \else    \settoheight{\strutheight}{$\displaystyle#1 #2$} \fi%
%  \mathop{\textup{Pr}}\nolimits\left\{
%    #1\,\left|\protect\rule{0cm}{\strutheight}\right.\,#2
%  \right\}}

\newcommand{\Ex}{\mathop{\textup{E}}\nolimits}
\newcommand{\Var}{\mathop{\textup{Var}}\nolimits}
\newcommand{\Cov}{\mathop{\textup{Cov}}\nolimits}
\newcommand{\expect}[1]{\Ex\left[#1\right]}
\newcommand{\expectsq}[1]{{\Ex}^2\left[#1\right]}
\newcommand{\expcond}[2]{\expect{#1\mid#2}}
\newcommand{\variance}[1]{\Var\left[#1\right]}
\newcommand{\varsq}[1]{{\Var}^2\left[#1\right]}
\newcommand{\covar}[1]{\Cov\left[#1\right]}
\newcommand{\covariance}[2]{\Cov\left[#1,#2\right]}
