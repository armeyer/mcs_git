\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{TP_mating_ritual_invariant}
  \pcomment{from F07.miniquiz-oct12 edited by ARM 10/8/09}
  \pcomment{s12.cp7f, s13.cp9w, s16.cp5m}
  \pcomment{similar to TP_Stable_Marriage_Invariants}
\end{pcomments}

\pkeywords{
 stable_matching
 Mating_ritual
 invariant
 }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem} Suppose that Harry is one of the boys and Alice is one of
  the girls in the \emph{Mating Ritual}.  Which of the properties below
  are preserved invariants?  Why?

\begin{staffnotes}
The last part of this problem is obscure \& probably too tricky.
Students usually agree that the property is not preserved, but give
vague arguments about why.  You should point out when their answer is
unsatisfactory in this way, and observe that a simple way to show it
is not a preserved invariant is to give an explicit example where if
fails to be preserved, as in the solution below.  But tell students we
don't expect them to come up with the tricky example, and they should
not spend any more time on it in class.  They can look up the
counterexample in the solutions after class.
\end{staffnotes}

\begin{itemize}

\item[a.] Alice is the only girl on Harry's list.

\item[b.] There is a girl who does not have any boys serenading her.

\item[c.] If Alice is not on Harry's list, then Alice has a suitor that
  she prefers to Harry.

%\item[d.] All the boys have the same number of girls left uncrossed in their list.

\item[d.] Alice is crossed off Harry's list, and Harry prefers Alice to anyone
  he is serenading.

\item[e.] If Alice is on Harry's list, then she prefers Harry to
  any suitor she has.

\end{itemize}

\begin{solution}

\begin{enumerate}

\item[a.] A preserved invariant; no girl will be added to Harry's
  list.  If Alice got crossed off, there would be no one for Harry to
  marry.  So she must remain as the sole girl on his list.
  \textbf{Reminder}: A \emph{preserved invariant} need not be true all
  the time, as in this example.  It only needs to stay true once it
  first becomes true.

\item[b.] Not preserved; a girl may not have a suitor on the first day---if,
for example, she's not at the top of any boy's list---but every girl is
guaranteed to have one at the end, namely, her husband.

\item[c.] A preserved invariant; this is the basic invariant used to
  verify the Ritual.

\item[d.] A preserved invariant; Harry crosses off the girls in his
  order of preference, so if Alice is crossed off, Harry likes her
  better than anybody that's left.

\item[e.] Not preserved.  Suppose the preferences among two couples
  and a third boy are:

\begin{tabular}{llll}
Harry:    & Alice,   & Elvira,   & \dots \\
Billy:    & Elvira,  & Alice,    & \dots \\
Wilfred:  & Elvira,  & \dots             \\
Alice:    & Billy,   & Harry,    & \dots \\
Elvira:   & Wilfred, & Billy,    & \dots
\end{tabular}

The alleged invariant is true on the first day since Harry is Alice's
only suitor.  But Elvira rejects Billy in favor of Wilfred on the
first afternoon, so on the second day, Billy and Harry are serenading
Alice.  Since Alice prefers Billy to Harry, the alleged invariant is
no longer true, so it was not preserved.

\end{enumerate}

\end{solution}

\end{problem}

\endinput
