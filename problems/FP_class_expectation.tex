\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{FP_class_expectation}
  \pcomment{first part of CP_class_expectation}
  \pcomment{from: S01.practice final, prob3; modified from S07.ps13, prob3}
  \pcomment{adapted by Steven F09}
  \pcomment{edited ARM 5/17/15}
\end{pcomments}

\pkeywords{
  expectation
  random
  permutation
  indicator
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
There are $n$ students who are both taking Math for Computer Science
(CS) and Introduction to Signal Processing (SP) this term.  To make it
easier on themselves, the Professors in charge of these classes have
decided to randomly permute their class lists and then assign students
grades based on their rank in the permutation (just as many students
have suspected).  Assume all permutations are equally likely and that
the ranking in each class is independent of the other.

What is the expected number of students that have a higher rank in SP
than in CS?  \iffalse Explain your reasoning.\fi

\hint Let $X_r$ be the indicator variable for the $r$th ranked student
in CS having a higher rank in SP.

\begin{solution}
The number $X$ of students with higher SP rank is
\[
X = X_1+X_2+\cdots+X_n.
\]

The probability that the rank $r$ student in CS has higher rank in SP is 
$(r-1)/n$, since each rank in SP is equally likely.
By linearity of expectation, the expected number of students with a higher
rank on Math for CS is
\begin{align*}
\expect{X}
   & = \expect{X_1}+\expect{X_2}+\cdots+\expect{X_n}\\
   & = \frac{1-1}{n} + \frac{2-1}{n} + \cdots + \frac{n-1}{n}\\
   & = \frac1n(1+2+\cdots+(n-1)
   & = \frac{n-1}{2}.
\end{align*}

An elegant alternative way to solve this problem is to observe that
that a randomly chosen CS student has a $1/n$ chance of having the
same rank in SP, and otherwise is, by symmetry, equally likely to have
higher rank as lower rank.  Hence their probability of higher rank is
\[
\frac{1-(1/n)}{2}.
\]
This argument does not readily extend to solving the generalization to
having $k$-higher rank in Problem~\bref{CP_class_expectation}.
\end{solution}

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
