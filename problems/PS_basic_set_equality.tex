\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{from: S09.ps1}
  \pcomment{Has 2 hard references to ps1 and class problems.}
\end{pcomments}

\pkeywords{
  set_theory
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
\bparts
\ppart\label{AUBUC_equiv}
Prove that
\begin{equation}\label{AUBUC}
A \cup B \cup C = (A - B) \cup (B - C) \cup (C - A) \cup (A \cap B \cap C)
\end{equation}
for all sets $A$, $B$, and $C$.

\hint Use the valid propositional formula from
\href{http://courses.csail.mit.edu/6.042/spring09/ps1.pdf} {Pset 1},
Problem 2(b).

\begin{solution}
As illustrated in lecture and Thursday, Week 2 Class Problem n,
  a set-theoretic equality can be proved by showing that an arbitrary
  element in either of the sets must also be an element of the other set.
In particular, the aim is to prove that
\begin{equation}\label{ABC}
x \in A \cup B \cup C,
\end{equation}
iff 
\begin{equation}\label{A-B}
x \in (A - B) \cup (B - C) \cup (C - A) \cup (A \cap B \cap C).
\end{equation}

By definition
\begin{align*}
x \in A \union B & \qiff (x \in A)\ \QOR\ (x\in B)\\
x \in A \intersect B & \qiff (x \in A)\ \QAND\ (x\in B)\\
x \in A-B & \qiff (x \in A)\ \QAND\ \QNOT(x\in B).
\end{align*}
So~\eqref{A-B} is equivalent to
\begin{align}
\lefteqn{[x \in A \ \QAND\  \QNOT(x \in B)]} & \label{xAand}\\
& \QOR\ [x \in B \ \QAND\  \QNOT(x \in C)]\notag\\
& \QOR\ [x \in C \ \QAND\  \QNOT(x \in A)] \notag\\
& \QOR\ [x \in A \ \QAND\  x \in B \ \QAND\  x \in C].\notag
\end{align}
Letting $P \eqdef (x \in A)$, $Q \eqdef (x \in B)$, $R \eqdef (x \in C)$,
the hinted equivalence in Pset 1 implies that~\eqref{xAand} is equivalent
to $(x\in A)\ \QOR\ (x \in B)\ \QOR\ (x \in C)$, which is equivalent
to~\eqref{ABC} by definition.
\end{solution}

\ppart Suppose you had a powerful \emph{VAL-checker} program for
determining whether or not an arbitrary propositional formula was valid.
Explain how to modify this program into a powerful \emph{SETEQ-checker}
program for checking whether an arbitrary equality between set formulas
like~\eqref{AUBUC} ---involving only the operations of union,
intersection, and set-difference ---was correct.

\begin{solution}
Let $L$ and $R$ be the two set formulas that \emph{SETEQ-checker} is
checking for equality.  Then $L=R$ iff for all $x$, $x \in L \iff x \in R$.  
If we can find a propositional formula $P_L$ that is true iff $x \in L$ 
and another propositional formula $P_R$ that is true iff $x \in R$ then
we could use \emph{VAL-checker} to check the validity of the statement
$P_L \iff P_R$.

To find $P_R$ and $P_L$ we proceed in the same manner as in part 
\eqref{AUBUC_equiv}, using the definitions of intersection, union and 
set-difference to convert the $\union$, $\intersect$ and $-$ operations 
in the statements $x \in L$ and $x \in R$ into statements involving 
only $\QAND$, $\QOR$ and $\QNOT$.  $P_L$ and $P_R$ are then found
by replacing set membership with propositions: replace each occurrence 
of the statement $x \in A$ with a boolean variable $P_A$ for each set
$A$ that appears in $L$ and/or $R$.

\end{solution}

\eparts
\end{problem}


%% Another version...
\iffalse
\begin{problem}
Let $A$, $B$, and $C$ be sets.
Prove that:
%
\[
A \cup B \cup C = (A - B) \cup (B - C) \cup (C - A) \cup (A \cap B \cap C).
\]
%
You are welcome to use a diagram to aid your own reasoning, but your
proof must be text.

\begin{solution}
We prove that the left side is contained in the right side, and that
the right side is contained in the left side.

First, we show that the left side is contained in the right side.  Let $x$
be any element of $A \cup B \cup C$.  Then $x$ belongs to at least 
one of $A$, $B$, and $C$.  We distinguish two cases.
\begin{itemize}
\item $x$ belongs to all three sets: Then $x$ belongs to the
intersection $A\cap B\cap C$. 

\item $x$ does \emph{not} belong to all three sets: Then at least one
of $A$, $B$, $C$ does not contain $x$.  So overall, at least one set
contains $x$ and at least one set doesn't. We distinguish cases:
\begin{itemize}
\item If $A$ contains $x$, then one of $B$ and $C$ must not contain
it. 
\begin{itemize}
\item If $B$ does not contain it, then $x\in A-B$. 
\item If $B$ contains it, then $C$ does not, therefore $x\in B-C$.
\end{itemize}

\item If $A$ does \emph{not} contain $x$, then one of $B$ and $C$ must  
contain it. 

\begin{itemize}
\item If $C$ does, then $x\in C-A$. 
\item If $C$ does not contain it, then $B$ does, therefore $x\in B-C$. 
\end{itemize}
\end{itemize}
\end{itemize}
In all cases, we end up with $x$ being a member of one of 
$A - B$, $B - C$, $C - A$, or $A\cap B\cap C$.  Therefore, it belongs
to the right side. Hence, the set on the left is contained in the set
on the right.

Next, we show that the right side is contained in the left.  This is
easier. Let $x$ belong to the right side. Then it belongs to one of $A
- B$, $B - C$, $C - A$, or $A\cap B\cap C$.  In the first case, we
clearly know $x\in A$. In the second case, $x\in B$. In the third
case, $x\in C$. In the last case, $x\in A$ again. So, in all cases,
$x$ belongs to one of $A$, $B$, or $C$. So $x$ belongs to the left
side. Therefore, the set on the right is contained in the set on the
left.

Since each set is contained in the other, they are equal.
\end{solution}

\end{problem}
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
