\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_prob_space_symmetry}
  \pcomment{Same as part (a) of PS_coin_flip_sequences}
\end{pcomments}

\pkeywords{
  probability
  conditional_probability
  coin
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Suppose you repeatedly flip a fair coin until three consecutive flips
match the pattern \STR{HHT} or the pattern \STR{TTH} occurs.
What is the probability you will see \STR{HHT} first?  Define a
suitable probability space that models the coin flipping and use it to
explain your answer.

\hint Symmetry between Heads and Tails.

\begin{solution}
The answer is $1/2$.  

The reason is that the probability of Heads and Tails are equal, and
we are (implicitly) assuming that the coin flips are independent.  So
any statement about the probability of an event will continue to hold
if the Heads and Tails are switched.  This implies that the
probability of seeing \STR{TTH} first is the same as the
probability of seeing \STR{HHT} first.  Moreover, the probability
of flipping indefinitely without seeing either string is 0, so the two
probabilities must both be 1/2.

The argument above is correct and would be accepted by anyone who
understood probability theory.  But for less experienced readers, we
can spell out the story more precisely as follows.

The first question might be why the probability of flipping forever is
zero.  The reason is the only way never to throw either pattern is to
throw all \STR{H}'s or all \STR{T}'s after the first toss, and
there is zero probability of that.

\iffalse
The reason is that at any point during the flipping, there is a
1/4 probability that one of the patterns \STR{TTH} or \STR{HHT}
will turn up in the next three flips, if not sooner.  So the
probability that more than more than three flips will be needed is at
most 3/4.  If follows that the probability of there being at least $n$
flips is at most $(3/4)^{n/3}$, which approaches zero as $n$
approaches infinity.
\fi

To make the argument about the symmetry between \STR{TTH} and
\STR{HHT} precise, we need to be explicit about the probability
space.  The obvious sample space to choose is the set of all the
strings of \STR{H}'s and \STR{T}'s that end with one of the
strings \STR{TTH} or \STR{HHT}, and do not contain any
occurrence of the other string.  The probability of such a string of
length $n$ will be defined to be $2^{-n}$.  To be sure that this
assignment of probabilities to outcomes is a probability space, we
must show that all the probabilities of the outcomes sum to 1, but
let's postpone that for a moment.

Let $F \eqdef \strings{\set{\STR{H},\STR{T}}}$ be the set of all
finite strings of \STR{H}'s and \STR{T}'s, and let $b: F \to F$
the function that switches the occurrences of \STR{H}'s and
\STR{T}'s is a string.  Since $b$ preserves the lengths of strings,
and the probability of a string depends only on its length, it follows
that $\pr{E} = \pr{b(E)}$ for any event $E$.

Let $E_1$ be the event that \STR{TTH} appears first and $E_2$ the
event that \STR{HHT} appears first.  Since $b(\STR{HHT}) =
\STR{TTH}$ and conversely, $b(\STR{TTH}) = \STR{HHT}$, it
follows that $b(E_1) = E_2$ which means that these events have the
same probability.  But with respect to the sample space $E_1$ is the
complement of $E_2$, so their probabilities sum to 1.

Finally we have to show that the outcome probabilities sum to 1.
\TBA{COMPLETE THIS}
\end{solution}

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
