\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_Ackermann_def}
  \pcomment{by ARM 2/24/11}
\end{pcomments}

\pkeywords{
  induction
  divergence
  Ackermann
  recursive
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
  One version of the the Ackermann function $A: \nngint^2 \to \nngint$ is defined
  recursively by the following rules:
\begin{align}
A(m,n) &\eqdef  2n & \text{if $m=0$ or $n \le 1$,}\tag{A-base}\\ 
A(m,n) &\eqdef  A(m-1,A(m,n-1)) & \text{otherwise}.\tag{AA}
\end{align}

Prove that if  $B: \nngint^2 \to \nngint$ is a partial function that
satisfies this same definition, then $B$ is total and $B = A$.

\begin{solution}
\TBA{solution}

\begin{editingnotes}
REVISE TO REPLACE LEXICOGRAPHIC WELL ORDERING, by double induction or
$\nngint + \twdone$ from Lemma~\bref{to1_well-order}.
\end{editingnotes}

\begin{editingnotes}
So how can we be sure this one is ok?  The simple answer is that the
definition of $A(m,n)$ actually doesn't involve evaluation at bigger
arguments than $(m,n)$ if we think of the right way to order the
arguments.  In this case, lexicographic order does the job.

Being an ok definition means that equations~(A-base) and~(AA)
define a \emph{unique}, \emph{total} function $A$.  We'll focus on
proving uniqueness.  Namely, if $G$ satisfies the same equations, that is,
\begin{align}
G(m,n) &=  2n &\text{if $m=0$ or $n \le 1$},\tag{G-base}\\ 
G(m,n) &=  G(m-1,G(m,n-1)) &\text{otherwise},\tag{GG}
\end{align}
then $G=A$.

We'll give a simple proof of this using the well foundedness of
lexicographic order $\lexle$ on $\nngint^2$.  Namely, assume for the
sake of contradiction that $f \neq g$.  Then the set $S$ of pairs
$(m,n)$ such that $f(m,n) \ne g(m,n)$ is not empty, so by well-foundedness
of lexicographic order, there is a $\lex<$-\emph{least} element $(m_0,n_0)
\in S$.  In other words,

\begin{equation}\label{m0n0}
f(m_0,n_0) \neq g(m_0,n_0),
\end{equation}
but
\begin{equation}\label{<m0n0}
f(m,n) = g(m,n) \text{ for } (m,n) \lex< (m_0,n_0).
\end{equation}

Now if $m_0 = 0$ or $n_0 \le 1$, then $f(m_0,n_0)$ and $g(m_0,n_0)$ both
equal $2n_0$ by~(A-base) and~(G-base), which
contradicts~\eqref{m0n0}.  So it must be that $m_0 >0$ and $n_0 > 1$.
This implies
\begin{equation}\label{fm0f}
f(m_0,n_0) = f(m_0-1,f(m_0,n_0-1)),
\end{equation}
and
\begin{equation}\label{gm0g}
g(m_0,n_0) = g(m_0-1,g(m_0,n_0-1)),
\end{equation}
by~(AA) and~(GG).

Next, by definition of lexicographic order, $(m_0,n_0-1) \lex< (m_0,n_0)$,
so~\eqref{<m0n0} implies that
\[
f(m_0,n_0-1)) \text{ and } g(m_0,n_0-1))\text{ have the same value, } v.
\]
Similarly, $(m_0-1,v) \lex< (m_0,n_0)$ by definition of $\lex<$,
so~\eqref{<m0n0} also implies that
\[
f(m_0-1,v) = g(m_0-1,v)
\]
which by~\eqref{fm0f} and~\eqref{gm0g}, implies that $f(m_0,n_0) =
g(m_0,n_0)$.  But this contradicts~\eqref{m0n0}, which completes the
proof.
\end{editingnotes}
\end{solution}
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
