\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_predicate_calculus_power_of_two}
  \pcomment{from: S06.ps1}
  \pcomment{edited way down from PS_express_predicates_in_formal_logic_notation}
  \pcomment{conflicts with PS_predicate_calculus_power_of_prime}
\end{pcomments}

\pkeywords{
  predicates
  propositional_logic
  power_of
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\isprime}{\text{\sc{Prime}}}
\newcommand{\primepower}{\text{\sc{Prime-power}}}
\newcommand{\twoprimes}{\text{\sc{Two-primes}}}

\begin{problem}
  Express each of the following predicates and propositions in formal
  logic notation.  The domain of discourse is the nonnegative
  integers $\nngint$.  Moreover, in addition to the propositional
  operators, variables and quantifiers, you may define predicates
  using addition, multiplication, and equality symbols, but no
  \emph{exponentiation} (like $x^y$) and no use of integer
  \emph{constants} like $\mtt{0}$ or $\mtt{1}$ (until you justify
  using them in part~\eqref{express1}).

  For example, the predicate ``$x \geq y$'' could be expressed by the
  following logical formula.
  \[
  \exists w.\, (y + w = x).
  \]

  Now that we can express $\geq$, it's OK to use it to express other
  predicates.  For example, the predicate $x < y$ can now be
  expressed as
  \[
  y \geq x \QAND \QNOT(x = y).
  \]
  
  For each of the predicates below, describe a logical formula to
  express it.  It is OK to use in the logical formula any of the
  predicates previously expressed.
  
\begin{problemparts}

\ppart\label{express1} $x = \mtt{1}$.

\begin{solution}
We could say there is only one number less than $x$:
\[
\exists z.\, z < x\ \QAND \forall y.\, y < x\ \QIMPLIES\ y = z.
\]
Alternatively, both
\[
\forall y.\, x \cdot y = y,
\]
and
\[
x \cdot x = x \QAND x + x \neq x
\]
work nicely. 
\end{solution}

\examspace[1in]

\ppart $m$ is a divisor of $n$ (notation: $m \divides n$)

\begin{solution}
\[
m \divides n 
\eqdef\quad 
\exists k.\; k \cdot m = n
\]
\end{solution}

\examspace[1in]

\problempart
$n$ is a prime number.

\begin{solution}
\[
\isprime(n)
\eqdef\quad 
(n\neq 1)\ \QAND\ \forall m.\; (m \divides n) \QIMPLIES (m=1 \QOR m=n).
\]
Note that $n\neq 1$ is an abbreviation of the formula $\QNOT(n=1)$.
\end{solution}

\examspace[1in]

\problempart 
$n$ is a power of a prime.

\begin{solution}
A number $n$ is a power of a prime $p$ iff its only prime factor is
$p$.  So,
\[
\primepower(n) \eqdef
   \quad \exists p.\,[\isprime(p) \QAND
      (\forall m.\; (m \divides n \QAND \isprime(m)) \QIMPLIES m = p].
\]
Notice that this correctly handles the fact that 1 is a zero power of
a prime, because if $n=1$, then no prime $m$ divides $n$.
\end{solution}

\inbook{
\examspace[1in]

\problempart
$n$ has exactly two distinct prime factors.

\begin{solution}
A $n$ has exactly two distinct prime factors if it has two distinct
prime factors, and every prime factor is equal to one of these two.  So,
\begin{align*}
\lefteqn{\twoprimes(n) \eqdef}\\
& \exists p, q.\. \isprime(p) \QAND\ \isprime(q) \QAND\ p \divides n \QAND\ q \divides n \QAND\\
& \forall r.\, (isprime(r) \QAND r \divides n) \QIMPLIES (r = p \QXOR r = q).
\end{align*}

Alternatively, a number $n$ has exactly two distinct prime factors iff
$n = jk$, where $j$ and $k$ are powers of \emph{distinct} primes.  So,
\begin{align*}
\lefteqn{\twoprimes(n) \eqdef}\\
   & \exists j, k.\, n = jk\ \QAND\ \ispowerofprime(j) \QAND\ \ispowerofprime(k) \QAND\\
   & \exists p,q.\, \isprime(p) \QAND \isprime(q)\ \QAND p \neq q\ \QAND\ p \divides j\ \QAND\ q \divides k.
\end{align*}

\end{solution}
}

\end{problemparts}
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput

\iffalse
\problempart 
$n$ is the sum of two cubes (a cube is a number equal to $k^3$ for some
integer $k$).

\begin{solution}
\[
\exists x \exists y.\; (x \cdot x \cdot x + y \cdot y \cdot y = n)
\]

Since the constant 0 is not allowed to appear explicitly, the predicate
``$x = 0$'' can't be written directly, but note that it could be expressed
in a simple way as:
\[
x + x = x.
\]
Then the predicate $x > y$ could be expressed
\[
\exists w.\; (y + w = x) \QAND (w \neq 0).
\]
Note that we've used ``$w \neq 0$'' in this formula, even though it's
technically not allowed.  But since ``$w \neq 0$'' is equivalent to the
allowed formula ``$\QNOT(w+w= w)$,'' we can use ``$w \neq 0$'' with the
understanding that it abbreviates the real thing.  And now that we've shown
how to express ``$x>y$,'' it's ok to use it too.
\end{solution}

\problempart $x = 1$.

\begin{solution}
One formula is $\forall y.\; xy=y$.  Another is $(x \cdot x = x) \conj (x
\neq 0)$.
\end{solution}
\fi
