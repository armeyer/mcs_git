\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{MQ_graph_state_machine_f15}
  \pcomment{variant of MQ_graph_state_machine}
  \pcomment{Proposed by ZDz for Miderm 3 in F15}
\end{pcomments}

\pkeywords{
graphs
state_machines
connectivity
well_order
termination
partial_correctness
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Starting with some \textbf{simple graph} $G$ with two or more
vertices, keep applying the following operations: pick two vertices $u
\neq v$ such that either

\renewcommand{\theenumi}{\roman{enumi}}
\renewcommand{\labelenumi}{(\theenumi)}

\begin{enumerate}

\item\label{deleteedgeuv} there is an edge between $u$ and $v$, and there is also a path
from $u$ to $v$ which does \emph{not} include this edge; in this case,
delete the edge $\edge{u}{v}$.

\item\label{addedgeuv} there is no path from $u$ to $v$; in this case, add the edge
  $\edge{u}{v}$.
\end{enumerate}
Continue until it is no longer possible to find two vertices $u \neq
v$ to which an operation applies.

\bparts

\ppart Let $c$ be the number of connected components and $e$ the
number of edges of a simple graph. For each of the following derived
variables argue whether it is weakly decreasing, strictly decreasing,
or none of the two: $u  = e$, $v = c + e$, and $w = 2c + e$.

%Prove that 
%\[
%2c+e
%\]
%is a strictly decreasing derived variable for this process.

\examspace[3.5in]

\begin{solution}
Operation~\eqref{deleteedgeuv} decreases $e$ by one and leaves $c$
unchanged since $u$ and $v$ remain connected.  So, all three derived
variables %$2c+e$
decrease by one.

Operation~\eqref{addedgeuv} decreases $c$ by one since the two
connected components it connects become a single component.  It
increases $e$ by one.  So $u$ increases by one, $v$ stays the same,
and  %$2c+e$
$w$ changes by $(2 \cdot -1) +1 = -1$,
that is, it decreases by one.

Therefore, $v$ is weekly decreasing, $w$ is strictly decreasing, and none of the two
holds for $u$.
\end{solution}

%\ppart Explain why, starting from any finite simple graph, the
%procedure above terminates.
%
%\examspace[0.75in]
%
%\begin{solution}
%Since each step decreases $2c+e$ by one, the largest possible number
%of steps before btermination is the initial value of $2c+e$.
%
%More abstractly, $2c+e$ is a nonnegative integer-valued, strictly
%decreasing derived variable, so Theorem~\bref{th:decr} implies
%termination.
%\end{solution}

\ppart Prove that if the procedure terminates, the remaining graph is a tree.

\examspace[2in]

\begin{solution}
We use the characterization of a tree as a cycle-free, connected,
simple graph.

A final graph must be connected, because otherwise there would be two
vertices with no path between them, and then a transition adding the edge
between them would be possible.

A final graph can't have a cycle, because deleting any edge on the
cycle would be a possible operation.
\end{solution}

\eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
