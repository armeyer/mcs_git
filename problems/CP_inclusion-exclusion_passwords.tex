\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_inclusion-exclusion_passwords}
  \pcomment{from: S09:cp10r, S07.cp10w}
\end{pcomments}

\pkeywords{
 inclusion-exclusion
 counting
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{problem}
To ensure password security, a company requires their employees to
choose a password.  A length 10 word containing each of the
characters:
\begin{quote}
a, d, e, f, i, l, o, p, r, s,
\end{quote}
is called a \emph{cword}.  A password can be a cword which does not
contain any of the subwords ``fails'', ``failed'', or ``drop.''

For example, the following two words are passwords: \hfill adefiloprs, srpolifeda,

but the following three cwords are not: \hfill a\textbf{drop}eflis,
\textbf{failedrop}s, \textbf{drop}e\textbf{fails}.

\bparts

\ppart How many cwords contain the subword ``drop''? %\hfill \examrule[0.7in]

\begin{solution}
Such cwords are obtainable by taking the word ``drop'' and the
remaining 6 letters in any order.  There are $7!$ permutations of these 7
items.
\end{solution}

\ppart How many cwords contain both ``drop'' and ``fails''? %\hfill \examrule[0.7in]

\begin{solution}

Take the words ``drop'' and ``fails'' and the remaining letter ``e'' in
any order.  So there are $3!$ such cwords.

\end{solution}

\ppart Use the Inclusion-Exclusion Principle to find a simple
arithmetic formula involving factorials for the number of passwords.

\examspace[0.5in]

\begin{solution}
\[
10! - 7! - 6! - 5! + 3! + 2!
\]

There are $7!$ cwords that contain ``drop'', $6!$ that contain ``fails'',
and $5!$ that contain ``failed''.  There are $3!$ cwords containing both
``drop'' and ``fails''.  No cword can contain both ``fails'' and
``failed''.  The cwords containing both ``drop'' and ``failed'' come from
taking the subword ``failedrop'' and the remaining letter ``s'' in any
order, so there are $2!$ of them.  So by Inclusion-exclusion, we have the
number of cwords containing at least one of the three forbidden subwords is
\[
(7! + 6! + 5!) - (3! + 0 + 2!) + 0 %= 5!(49) - 8.
\]
Among the  $10!$ cwords, the remaining ones are passwords, so the number
of passwords is
\[
10! - 7! - 6! - 5! + 3! + 2! = 3,622,928.
\]

\end{solution}

\eparts
\end{problem}

\endinput
