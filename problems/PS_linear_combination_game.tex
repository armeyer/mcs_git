\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_linear_combination_game}
  \pcomment{from: S09.ps7}
\end{pcomments}

\pkeywords{
  number_theory
  linear_combination
  gcd
  state_machine
  invariant
  game
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Here is a game you can analyze with number theory and always beat me.
We start with two distinct, positive integers written on a blackboard.
Call them $a$ and $b$.  Now we take turns.  (I'll let you decide who
goes first.)  On each turn, the player must write a new positive
integer on the board that is the difference of two numbers that are
already there.  If a player cannot play, then they lose.

For example, suppose that 12 and 15 are on the board initially.  Your
first play must be 3, which is $15 - 12$.  Then I might play 9, which
is $12 - 3$.  Then you might play $6$, which is $15 - 9$.  Then I
can't play, so I lose.

\bparts

\ppart Show that every number on the board at the end of the game is a
multiple of $\gcd(a, b)$.

\begin{solution}

Thinking of the game as a state machine, we observe that the property that
$\gcd(a,b)$ divides all the numbers on the board is an invariant.
This follows because the next state (board) is the same as the previous
state, except for an additional number which is the difference of two
numbers already there.  Assuming these two numbers are divisible by
$\gcd(a,b)$, we know that their difference will be as well, which proves
that the next state satisfies the invariant.

\end{solution}

\ppart Show that every positive multiple of $\gcd(a, b)$ up to $\max(a,
b)$ is on the board at the end of the game.

\begin{solution}
Assume without loss of generality that $a > b$.  Let $s$ be the
smallest number on the board at the end of the game.  So $a = q s + r$
where $0 \leq r < s$ by the division algorithm.  Then $a - s$ must be on
the board and thus so must $a - 2s$, $a - 3s$, \dots, $a - (q-1)s$.
However, $r = a - q s$ cannot be on the board, since $r < s$ and $s$ is
defined to be the smallest number there.  The only explanation is that $r
= 0$, which implies that $s \mid a$.  By the same argument, $s \mid b$.
Therefore, $s$ is a common divisor of $a$ and $b$.  Since $s$ is a
multiple of the greatest common divisor of $a$ and $b$ by the preceding
problem part, $s$ must actually be the greatest common divisor.  We
already argued that $a$, $a - s$, $a - 2s$, \dots, $a - (q-1)s$ must be
on the board, and these are all the positive multiples of $\gcd(a, b)$ up
to $\max(a, b)$.

\end{solution}

\ppart Describe a strategy that lets you win this game every time.

\begin{solution}
Assume without loss of generality that $a \geq b$.  By the previous
parts, the numbers that appear on the final board are precisely all
the multiples $\leq a$ of $\gcd(a,b)$.  Thus, for each game, we know
\emph{exactly} how many values will be placed on the board before the
game ends.  So if an odd number of values will appear on the final
board (which happens precisely when $a$ is an even multiple of
$\gcd(a,b)$), then choose to go first.
\end{solution}

\eparts

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
