\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{FP_dangerous_dan_gen_func_S14}
  \pcomment{forked from FP_dangerous_generating_func}
  \pcomment{CH and ARM, Spring '14}
\end{pcomments}

\pkeywords{
  generating_function
  convolution
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Every day in the life of Dangerous Dan is a {disaster} filled with \emph{mishaps.} 

\begin{itemize}

\item Dan may or may not \emph{spill} his breakfast cereal on his computer
keyboard.

% \item Dan may or may not fall down the front steps on his way out the
% door.

%\item Dan \emph{stubs} his toe zero or more times.

\item Dan \emph{blurts} something foolish an even number of times.

\item Dan \emph{breaks} a sequence of two or more dinnerware items
  (where each item is either a bowl or a plate or a cup.)

\end{itemize}

Let $T_n$ be the number of different combinations of $n$ mishaps that Dan
can suffer in one day (where we regard different sequences of
\emph{breaks} as different combinations).  For example, $T_0 = T_1
= 0$, since there are always two or more breaks.  On the other hand, $T_3 =
36$; the reasoning is that there can be three breaks (which can
happen in $3^3 = 27$ different combinations), or a spill and two
breaks (which can happen in $3^2 = 9$ different combinations). 

\bparts

\ppart Express the generating function 
\[
T(x) \eqdef T_0 + T_1x + T_2x^2 + T_3x^3 + \cdots
\]
as a quotient of polynomials and \textbf{explain your derivation}.

\examspace[2.5in]

\begin{solution}
\begin{align*}
T(x) & = \underbrace{(1+x)}_{\text{spills}}\\
    &\ \cdot \underbrace{(1 + x^2 + x^4 + \cdots)}_{\text{blurts}}\\
     &\ \cdot \underbrace{(3^2x^2 + 3^3x^3 + 3^4x^4 +
       \cdots)}_{\text{dinnerware breaks}}\\
     & = (1+x) \cdot \frac{1}{1 - x^2} \cdot
        \frac{9x^2}{1-3x} \\
     & = (1+x) \cdot \frac{1}{(1-x)(1+x)} \cdot
        \frac{9x^2}{1-3x}\\
     & =  \frac{9x^2}{(1 - x)(1-3x)}.
\end{align*}
\end{solution}

%\ppart Put rational numbers in the boxes that make this equation true:
%
% {
% \[
% g(x) = 9x^2 \left(\frac{\frame{\rule{0.75in}{0in}\rule{0in}{0.75in}}}{1-3x}
%      + \frac{\frame{\rule{0.75in}{0in}\rule{0in}{0.75in}}}{(1-x)}\right)
% \]}

% \examspace[3in]

% \begin{solution}
% $3/2, -1/2$.
% \end{solution}

\ppart $T(x)$ can be written in the form
\[
T(x) = \frac{9x}{2}\paren{\frac{1}{1-3x} - \frac{1}{1-x}}. 
\]
Using this fact, show that for $n\geq 2$,
\[
T_n = \frac{3^{n+1} - 9}{2} .
\]

\begin{solution}
Therefore, for $n\geq 2$,
\begin{align*}
T_n &= \frac{9}{2} \paren{[x^{n-1}] \frac{1}{1-3x} - [x^{n-1}] \frac{1}{1-x}} \\
  &= \frac{9}{2}\paren{3^{n-1} -1} \\
  &= \frac{3^{n+1} - 9}{2} .
\end{align*}
\end{solution}

\eparts

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
