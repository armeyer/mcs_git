\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_integral_sum_asymptotic}
  \pcomment{ARM 11/2/13}
\end{pcomments}

\begin{problem}

\iffalse  %I think NOT TRUE for extremely fast growing $f$
Let $f:\reals \to \reals$ be a continuous, nondecreasing function.  Explain why
\[
\int_0^n f(x)\, dx\ \sim\ \sum_{i=0}^n f(i)\, .
\]
\fi

Let $f:\reals \to \reals$ be a continuous, weakly increasing function.
Say that $f$ \emph{grows slowly} when
\[
f(n) = o\paren{\int_1^n f(x)\, dx}.
\]

\bparts

\ppart Prove that the function $f_a(n) \eqdef n^a$ grows slowly for any $a>0$.

\examspace[0.7in]

\begin{solution}
We have
\begin{equation}\label{intxa}
\int_1^n x^a\, dx = \frac{n^{a+1}}{a+1}-1\, .
\end{equation}
For $a>0$, we know that $n^a = o(n^{a+1})$, which implies that
\[
n^a = o(c \cdot n^{a+1} +d)
\]
for any constants $c,d$ where $c>0$.  Letting $c= 1/(a+1)$ and $d=
-1$, equation~\eqref{intxa} now immediately implies that
\[
n^a = o(\int_1^n x^a\, dx).
\] 
\end{solution}

\ppart Prove that the function $e^n$ does not grow slowly.

\examspace[0.7in]

\begin{solution}
\[
\int_1^n e^x\, dx = e^n - e,
\]
but
\[
e^n \neq o(e^n - e).
\]
\end{solution}

\ppart Prove that if $f$ grows slowly, then
\[
\int_1^n f(x)\, dx\ \sim\ \sum_{i=1}^n f(i)\, .
\]

\examspace[4in]

\begin{solution}
Let $I_n \eqdef \int_0^n f(x)\, dx$ and $S_n \eqdef \sum_{i=1}^n
f(i)$.  By Theorem~\bref{weak_increasing_sum_bounds},
\[
I_n + f(0)\leq S_n \leq I_n + f(n).
\]
Therefore,
\begin{align*}
1+ \frac{f(1)}{I_n}
   & = \frac{I_n + f(1)}{I_n}\\
   & \leq \frac{S_n}{I_n}\\
   & \leq \frac{I_n + f(n)}{I_n}\\
   & = 1 + \frac{f(n)}{I_n}\, .
\end{align*}
But since $f$ grows slowly, both $f(1)/I_n$ and $f(n)/I_n$ approach
$0$ as $n$ approaches infinity, and therefore
\[
1+ 0 \leq \lim_{n \to \infty} \frac{S_n}{I_n} \leq 1 + 0.
\]
Therefore,
\[
\lim_{n \to \infty} \frac{S_n}{I_n} =1,
\]
that is, $S_n \sim I_n$.
\end{solution}

\eparts

\end{problem}

\endinput
