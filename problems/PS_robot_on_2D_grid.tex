 \documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_robot_on_2D_grid}
  \pcomment{from: S09.ps4; S03.ps7; S02.ps5, called robot ``Spike''}
  \pcomment{similar to CP_robot_invariant}
\end{pcomments}

\pkeywords{
  state_machines
  unreachable_states
  invariant
  integer_grid
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem} A robot named Wall-E wanders around a two-dimensional
grid.  He starts out at $(0,0)$ and is allowed to take four different
types of steps:

\begin{enumerate}
\item $(+2,-1)$
\item $(+1,-2)$
\item $(+1,+1)$
\item $(-3,0)$
\end{enumerate}

Thus, for example, Wall-E might walk as follows.  The types of his
steps are listed above the arrows.

\[
(0,0) \stackrel{1}{\rightarrow}
(2,-1) \stackrel{3}{\rightarrow}
(3,0) \stackrel{2}{\rightarrow}
(4,-2) \stackrel{4}{\rightarrow}
(1,-2) \rightarrow \ldots
\]

Wall-E's true love, the fashionable and high-powered robot, Eve, awaits
at $(0,2)$.

\bparts

\ppart Describe a state machine model of this problem. What are the states? The transitions?

\begin{solution}
The set of states is $\integers \times \integers$.  The start
state is $(0,0)$.  The possible transitions are
\begin{equation}\label{mt}
(x,y) \movesto (x,y)+(u,v)
\end{equation}
for $(u,v) \in \set{(+2,-1), (+1,-2),(+1,+1),(-3,0)}$.

\end{solution}

\examspace[2in]

\ppart Will Wall-E ever find his true love? If yes, find a path from
Wall-E to Eve. If no, use the Invariant Principle to prove that no such
path exists, being sure to clearly state and prove your preserved invariant. \emph{Hint}: The value $x-y$ is not preserved, but how can it change?

\begin{solution}
Let $P(x,y)$ be the property that $x - y$ is a multiple of $3$.
  We claim $P$ is a preserved invariant.  To show this, we must show that
  if $3 \divides x - y$, and Wall-E moves to $(x,y)+(u,v)$, then $3$
  divides
\begin{equation}\label{xuyv}
(x+u) - (y+v).
\end{equation}
But this value equals
\begin{equation}\label{xyuv}
(x-y) +(u - v),
\end{equation}
and since
\[
3 \divides u-v
\]
for each of the four possible moves $(u,v)$ listed above (as is easily
checked), we conclude that $3$ divides both terms in the sum~\eqref{xyuv}
and therefore divides the whole sum.  This proves that $3$
divides~\eqref{xuyv}, completing the proof that $P$ is preserved by
transitions.

Now $P$ holds in the start state, since $3 \divides (0 - 0)$.
However, $P$ does not hold for Eve's position $(0, 2)$, since
$0 - 2 = -2$ is not a multiple of $3$.  Therefore, by the Invariant
Principle, Eve's position is not a reachable state.

\end{solution}

\iffalse
\ppart State the most restrictive preserved invariant you can find that
holds for all the states that Wall-E can reach.

Later, though, as it turns out, Wall-E takes one ``illegal'' step,
sweeps up Eve, and carries her off to the third quadrant of
$\mathbb{C}^2$, where they live happily every after.
\fi

\eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
