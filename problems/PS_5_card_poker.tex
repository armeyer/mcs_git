\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_5_card_poker}
  \pcomment{F08.ps9 revised in terms of describing bijections}
  \pcomment{further revised by ARM 11/3/09}
  \pcomment{S11.ps8, S12.ps8, S13.ps10, S14.ps8, F15.ps9}
\end{pcomments}

\pkeywords{
  counting
  bijections
  poker
  cards
  set_product
  Cartesian_product
  product_rule
  sum_rule
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% F08 ps9 revised in terms of describing bijections.

\begin{problem}
  In a standard 52-card deck, each card has one of thirteen \emph{rank}s in
  the set $R$ and one of four \emph{suit}s in the set $S$ where
\begin{align*}
R & \eqdef \set{A,2,\dots,10,J,Q,K},\\
S & \eqdef \set{\clubsuit, \diamondsuit, \heartsuit, \spadesuit}.
\end{align*}

  A 5-card \emph{hand} is a set of five distinct cards from the deck.

  For each part describe a bijection between a set that can easily be
  counted using the Product and Sum Rules of
  Ch.~\bref{bijection_counting_sec}, and the set of hands matching the
  specification.  \emph{Give bijections, not numerical answers.}

  For instance, consider the set of 5-card hands containing all 4 suits.
  Each such hand must have 2 cards of one suit.  We can describe a
  bijection between such hands and the set $S \cross R_2 \cross R^3$ where
  $R_2$ is the set of two-element subsets of $R$.  Namely, an element
\[
\paren{s, \set{r_1,r_2}, (r_3, r_4, r_5)} \in S \cross R_2 \cross R^3
\]
indicates
\begin{enumerate}
\item the repeated suit $s \in S$,
\item the set $\set{r_1,r_2} \in R_2$ of ranks of the cards of suit $s$ and
\item the ranks $(r_3, r_4, r_5)$ of the remaining three cards, listed
  in increasing suit order where
\[
\clubsuit \prec \diamondsuit \prec \heartsuit \prec \spadesuit.
\]
\end{enumerate}
For example,
\[
\paren{\clubsuit, \set{10,A}, (J, J, 2)} \corresp
\set{A\clubsuit, 10\clubsuit, J\diamondsuit,J\heartsuit,2\spadesuit}.
\]

\bparts

\ppart A single pair of the same rank (no 3-of-a-kind, 4-of-a-kind, or
second pair).

\begin{solution}
There is a bijection with the set $R_4 \cross \set{1,2,3,4} \cross S_2 \cross S^3$
where an element
\[
\paren{\set{r_1,r_2,r_3,r_4}, i, \set{s_1,s_2}, (s_1, s_2, s_3)} \in
R_4 \cross \set{1,2,3,4} \cross S_2 \cross S^3
\]
specifies
\begin{enumerate}
\item the 4 ranks among the five cards in the hand,
\item the position $i$ of the rank of the pair when the four ranks
  are listed in increasing order,
\item the set of two suits of the pair,
\item the sequence $(s_1, s_2, s_3)$ of suits of the unpaired cards, in
  rank order.
\end{enumerate}
For example,
\[
\paren{\set{3, J, Q, 2}, 4, \set{\heartsuit,\spadesuit},
(\heartsuit, \heartsuit, \diamondsuit)} \corresp
\set{Q\heartsuit, Q\spadesuit,2\heartsuit,3\heartsuit,J\diamondsuit}.
\]

\begin{staffnotes}
Alternatively, there is a bijection with
\[
R \times S_2 \times (R - \set{r})_3 \times S^3,
\]
where the element 
\[
(r, \set{s_1,s_2}, \set{r_1,r_2,r_3}, (s_3,s_4,s_5))
\]
corresponds to the hand where the pair consists of two rank $r$ cards
with suits $s_1,s_2$, the remaining three cards have three different
ranks in $R-\set{r}$ given by $\set{r_1,r_2,r_3}$, and these three
cards have suits $(s_3,s_4,s_5)$ when listed in order of increasing
rank.
\end{staffnotes}

\iffalse
\[
13 \binom{4}{2} \binom{12}{3} 4^3}
\]

Alternatively, there is also a 3!-to-1 mapping from sequences of the
form $\paren{r, \set{s_1,s_2}, r_3, s_3, r_4, s_4, r_5, s_5}$
specifying
\begin{enumerate}
\item the rank $r$ of the pair
\item the set of two suits $\set{s_1,s_2}$ of the pair,
\item the rank and suit of the 3rd, 4th and 5th card.
\end{enumerate}
\fi

\end{solution}

\ppart Three or more aces.

\begin{solution}
  There is a bijection between the hands with exactly 3 aces along with
  two non-ace cards of different ranks, $r_1,r_2$ and the set, $A_3 \eqdef
  S \cross (R-\set{A})_2 \cross S \cross S$, of
  sequences of the form $\paren{s, \set{r_1,r_2}, s_1,s_2}$ specifying
\begin{enumerate}
\item the suit $s$ of the missing ace,
\item the ranks of the non-ace cards,
\item suit of the lower-rank non-ace,
\item suit of the higher-rank non-ace.
\end{enumerate}

Similarly, there is a bijection between the hands with exactly 3 aces
along with a pair of non-ace cards of the same rank, and the set,
$A_{\text{full}} \eqdef S \cross (R - \set{A}) \cross S_2$, of sequences of the form
$\paren{s, r, \set{s_1,s_2}}$ specifying
\begin{enumerate}
\item the suit $s$ of the missing ace,
\item the rank $r$ of the pair of non-ace cards,
\item set $\set{s_1,s_2}$ of two suits of the non-ace pair.
\end{enumerate}

Finally, there is a bijection between the hands with exactly 4 aces
and the set $A_4 \eqdef (R-\set{A}) \cross S$ of sequences of the
form $(r,s)$ specifying the rank $r$ and the suit $s$ of the
non-ace.

The sets $A_3$, $A_{\text{full}}$ and $A_4$ are disjoint.  Since the
set of hands with exactly 3 aces two cards of different rank, the set
of ``aces-full'' hands (3 aces and a pair or the same rank), and the
set of hands with exactly 4 aces are disjoint as well, we have
described a bijection between the hands with three or more aces and
the set $A_3 \union A_{\text{full}} \union A_4$.
\end{solution}

\eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
