\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_Handshaking_Lemma}
  \pcomment{from: S09.cp6m, S06.cp5w}
\end{pcomments}

\pkeywords{
  handshaking
  degree
  graphs
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}

\bparts

\ppart Prove that in every simple graph, there are an even number of
vertices of odd degree.

\begin{staffnotes}
\hint The Handshaking Lemma~\bref{sumedges}.
\end{staffnotes}

\begin{solution}
\begin{proof}
Partitioning the vertices into those of even degree and those of odd
degree, we know
\[
{\sum_{v \in V} d(v)}\ =
\sum_{d(v) \mbox{ {\scriptsize is even}}} d(v)\ +\
\sum_{d(v) \mbox{ {\scriptsize is odd}}} d(v)
\]
By the Handshaking Lemma, the value of the left-hand side of this
equation equals twice the number of edges, and so is even.  The first
summand on the right-hand side is even since it is a sum of even
values.  So the second summand on the right-hand side must also be even.
But since it is entirely a sum of odd values, it must must contain an even
number of terms.  That is, there must be an even number of vertices with
odd degree.
\end{proof}
\end{solution}

\ppart\label{oddnumeven} Conclude that at a party where some people shake
hands, the number of people who shake hands an odd number of times is an
even number.

\begin{solution}
We can represent the people at the party by the vertices of a
graph.  If two people shake hands, then there is an edge between the
corresponding vertices.  So the degree of a vertex is the number of
handshakes the corresponding person performed.  The result in the first
part of this problem now implies that there are an even number of
odd-degree vertices, which translates into an even number of people who
shook an odd number of hands.
\end{solution}

\ppart Call a sequence of \iffalse different\fi people at
the party a \emph{handshake sequence} if each person in the sequence
has shaken hands with the next person, if any, in the sequence.

Suppose George was at the party and has shaken hands with an odd number of
people.  Explain why, starting with George, there must be a handshake
sequence ending with a different person who has shaken an odd number of
hands.

\begin{staffnotes}
\hint Just look at all the people who appear in handshake sequences
that start with George.
\end{staffnotes}

\begin{solution}
The handshake graph restricted to just the people who appear in
handshake sequences that start with George is a subgraph of the graph
of everyone at the party, and the degree of a person in the subgraph is
the same in the subgraph as in the graph with everyone.

So by part~\eqref{oddnumeven}, the subgraph must have an even number
of people who shake an odd number of hands.  In particular, there must
be at least one other person besides George, call him Harry, who has
also shaken an odd number of hands.  So the handshake sequence from
George that ends with Harry is what we were looking for.
\end{solution}

\eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
