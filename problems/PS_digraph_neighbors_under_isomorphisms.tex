\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_digraph_neighbors_under_isomorphisms}
  \pcomment{digraph version of PS_neighbors_under_isomorphisms}
  \pcomment{ARM 3/19/12}
\end{pcomments}

\pkeywords{
  digraph
  isomorphism
  out-degree
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Let $G$ be a digraph.  The \idx{neighbors} of a vertex $v$ are the
endpoints of the edges out of $v$.  Since a digraph is formally the
same as a binary relation on $\vertices{G}$, the set of neighbors of
$v$ is simply the image $G(v)$ of $v$ under the relation $G$.

\bparts

\ppart\label{digr-fhat}  
Suppose $f$ is an isomorphism from $G$ to another digraph $H$.
Prove that
\[
f(G(v)) = H(f(v)).
\]

Your proof should follow by simple reasoning using the definitions of
isomorphism and image of a vertex under the edge relation---no
pictures or handwaving.

\hint Prove by a chain of iff's that
\[
h \in H(f(v)) \QIFF\ h \in f(G(v))
\]
for every $h \in \vertices{H}$.  

\begin{staffnotes}
\hint Use the fact that $h=f(u)$ for some $u \in \vertices{G}$.
\end{staffnotes}

\begin{solution}
\begin{proof}
Suppose $h \in \vertices{H}$.  By definition of isomorphism, there is
a unique $u \in \vertices{G}$ such that $f(u)=h$.  Then
\begin{align*}
h \in H(f(v))
    & \QIFF\ \diredge{f(v)}{h} \in \edges{H}          & \text{(def of $H(f(v))$)}\\
    & \QIFF\ \diredge{f(v)}{f(u)} \in \edges{H}       & \text{(def of $u$)}\\
    & \QIFF\ \diredge{v}{u} \in \edges{G}             & \text{(since $f$ is an isomorphism)}\\
    & \QIFF\ u \in G(v)                      & \text{(def of $G(v)$)}\\
    & \QIFF\ f(u) \in f(G(v))                & \text{(def of $f$-image)}\\
    & \QIFF\ h \in f(G(v))                   & \text{(def of $u$)}
\end{align*}
So $H(f(v))$ and $f(G(v))$ have the same members and
therefore are equal.

\end{proof}
\end{solution}

\ppart Conclude that if $G$ and $H$ are isomorphic graphs, then they
have the same number of vertices of out-degree $k$, for all $k \in
\nngint$.
\begin{staffnotes}
\hint $\outdegr{v} \eqdef \card{G(v)}$.
\end{staffnotes}

\begin{solution}
Since an isomorphism is a bijection, any set of vertices and its image
under an isomorphism will be the same size (Bijection Mapping
Rule~\bref{bij_same_fincard}).  So part~\eqref{digr-fhat} implies that
an isomorphism $f$ maps out-degree $k$ vertices to out-degree $k$
vertices.  This means that the image under $f$ of the set of
out-degree $k$ vertices of $G$ is precisely the set of out-degree $k$
vertices of $H$.  So by the Mapping Rule again, there are the same
number of out-degree $k$ vertices in $G$ and $H$.
\end{solution}

\eparts

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
