\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{from: S09.ps7}
  \pcomment{from: S08}
\end{pcomments}

\pkeywords{
  number_theory
  permutations
  modular_arithmetic
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Albert decides to entertain the class with a magic trick.  He says:
\begin{enumerate}
\item Pick any 5 digit number containing at least two different digits.
\item Shuffle the digits to obtain a different number.
\item Subtract the smaller number from the larger.
\item Now sum the digits of the result.
\item Repeat step 4 until you have only one digit, and write down your answer.
\end{enumerate}
He announces the right answer without seeing the paper, but the 6.042
students are not impressed.  This problem demonstrates why they were not
impressed with Albert's "magic."

\bparts

\ppart\label{shuffle} Show that taking \emph{any} nonnegative integer (not
necessarily a 5-digit number), rearranging its digits to form a new
number, and finding the difference between the two numbers, will always
result in a multiple of 9.

\solution{Let $n$ be the nonnegative integer, and let $m$ be the number
obtained after rearrangement of the digits of $n$.  We want to show that $n-m$
is divisible by 9.

To this end, let
\begin{align*}
n & =  10^0 \cdot a_0 + 10^1 \cdot a_1 + \ldots + 10^k \cdot a_k\\
m & = 10^{\pi(0)} \cdot a_0 + 10^{\pi(1)} \cdot a_1 + \ldots + 10^{\pi(k)} \cdot a_k
\end{align*}
where $\pi$ is a permutation mapping the $k$ digits of $n$ to $k$ digits
of $m$.  So,
\[
n-m = \sum_i a_i \paren{10^i - 10^{\pi(i)}}.
\]
Since $10^k \equiv 1^k = 1 \pmod{9}$ for any $k$, we have that $10^i -
10^{\pi(i)} \equiv 0 \pmod{9}$.  That is, each term, $a_i
\paren{10^i-10^{\pi(i)}}$, in the sum is equivalent $0 \pmod{9}$, and so
the whole sum is also $\equiv 0 \pmod{9}$.  That is,
\[
n-m \equiv 0 \pmod{9},
\]
which means that $n-m$ is divisible by 9.}

\ppart\label{congruent-sum} Show that summing the digits of a positive integer results in an
integer that is congruent to it modulo 9.

\solution{Let $n = 10^0 \cdot a_0 + 10^1 \cdot a_1 + \ldots + 10^k \cdot
a_k$.  We want to show that:
\[
\sum_i a_i \equiv \sum_i 10^i a_i \pmod{9}.
\]
Since $10 \equiv 1 \pmod{9}$, we have that $10^i \equiv 1^i = 1 \pmod{9}$.
Therefore, $10^i a_i \equiv a_i \pmod{9}$, and we have our desired result:
$\sum_i a_i \equiv \sum_i 10^i a_i \pmod{9}$.}

\ppart Show that for any 5 digit number, this procedure always terminates
with the same digit.  What would happen if the starting number had more
than 5 digits?

\solution{After completing steps 1-3, we have arrived at a number that is
divisible by 9, as shown in part~\eqref{shuffle} of this problem.
Moreover, this number will be positive, since the original and shuffled
numbers are different.  Then, by part~\eqref{congruent-sum}, summing the
digits of this number will still yield a positive number divisible by 9.
Furthermore, summing the digits of a number results in a smaller positive
number, so the procedure is guaranteed to terminate with the number 9.

All of the previous reasoning holds no matter how many digits the original
number had.}

\eparts

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
