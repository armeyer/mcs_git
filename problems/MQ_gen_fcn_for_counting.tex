\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{MQ_gen_fcn_for_counting}
  \pcomment{subsumed by MQ_gen_fcn_for_mayday}
  \pcomment{from: S10}
\end{pcomments}

\pkeywords{
  generating functions
  counting
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem} 
You would like to give a bouquet for Mother's Day. You find an 
online service that will make bouquets of \textbf{lilies}, \textbf{roses} 
and \textbf{tulips}, subject to the following constraints:
\begin{itemize}
\item there must be at most 3 lilies,
\item there can be any number of roses, 
\item there must be a multiple of four tulips.
\end{itemize}

Example: A bouquet of 4 tulips, 5 roses and no lilies satisfies 
the constraints.

Let $f_n$ be the number of possible bouquets with $n$ flowers that fit
the service's constraints. Express $F(x)$, the generating function
corresponding to $\ang{f_0, f_1, f_2, \dots}$, as a quotient of
polynomials.  You do not need to simplify this expression.

\begin{solution}
Generating function for the number of ways to choose
lilies:
\[
F_L (x) = 1+ x+ x^2 + x^3
\]

Generating function for the number of ways to choose roses:
\[
F_R (x) = 1+x+ x^2+x^3 + x^4 + \cdots = \frac{1}{1-x}
\]

Generating function for the number of ways to choose tulips:
\[
F_W (x) = 1 + x^4 + x^8 + \cdots = \frac{1}{1-x^4}
\]

By the Convolution Property, the generating function for $f_n$ is therefore
the product of these functions, namely,
\[
F(x) = F_L(x) F_R(x) F_W(x) = \frac{(1+ x+ x^2 + x^3)}{(1-x)(1-x^4)} .
\]

Although simplifying was not a required part of the answer, we have
\begin{align*}
\frac{(1+ x+ x^2 + x^3)}{(1-x)(1-x^4)}
     & = \frac{(1-x^4)/(1-x)}{(1-x)(1-x^4)} \\
     & = \frac{1}{(1-x)^2},
\end{align*}
and  so by~(\bref{cor:donut_binom}),
\[
f_n  = \binom{n + (2 - 1)}{n} = n+1.
\]
\end{solution}

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
