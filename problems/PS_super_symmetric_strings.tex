\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_super_symmetric_strings}
  \pcomment{S01-ps3-4}
  \pcomment{soln revised ARM 2/23/17}
\end{pcomments}

\pkeywords{
  structural_induction
  recursive_data
}

\def\supsym{\mathrm{SupSym}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
The set $\supsym$ of ``super-symmetric strings'' is defined recursively as follows:

\textbf{Base Case}: The 26 lower case letters of the Roman alphabet,
\STR{a}, \STR{b},\dots, \STR{z}, are in $\supsym$.

\textbf{Constructor Case}: If $\alpha$ and $\beta$ are strings in
$\supsym$, then the string $\alpha \beta \alpha$ is in $\supsym$.

\bparts
\ppart
Which of the following are super-symmetric strings?  Briefly explain your answers.

\renewcommand{\theenumi}{\roman{enumi}}
\renewcommand{\labelenumi}{(\theenumi)}

\begin{enumerate}

\item \STR{a}
\begin{solution}
Yes, by the Base Case.
\end{solution}

\item $\emptystring$, the empty string
\begin{solution}
No.  An immediate structural induction implies that all
super-symmetric strings have positive length.
\end{solution}

\item  \STR{aaaba}
\begin{solution}
  No. If it were, the last constructor $\mathtt{aaaba} = \alpha\beta\alpha$ would have to have $\alpha=\mathtt{a}$ and $\beta=\mathtt{aab}$, and $\mathtt{aab}$ would have to be super symmetric. But this string cannot be written in the form $\alpha\beta\alpha$, a contradiction.
\end{solution}

\item  \STR{abcbacabcba} \label{iii.abc}
\begin{solution}
Yes.  Let $\beta = \mathtt{aca}$, $\alpha=\mathtt{bcb}$.  Then we have a string of the
form $\mathtt{a} \alpha \beta \alpha \mathtt{a}$.
\end{solution}


\item \STR{abaabcbaaba}
\begin{solution}
Yes.  Similar reasoning to case~\eqref{iii.abc} shows that the string
$bcb$ is in the middle of the super-symmetric string, with the string
$a$ wrapped around it, and with the string $aba$ wrapped around that.
\end{solution}

\end{enumerate}

\ppart
Prove by structural induction that in any super-symmetric string,
exactly one letter appears an odd number of times.

\begin{solution}

%Use \alpha, \beta, ... for string vars, not ``e''

\begin{proof}
The induction hypothesis will be:

\[
P(\alpha) \eqdef [\text{$\alpha$ has exactly one letter that appears an odd number of times].}
\]

\inductioncase{Base case}: $(\alpha\ \text{is a single letter})$.  Then $\alpha$
  itself is the one letter which appears an odd number of
  times---namely, once.

\inductioncase{Inductive Step}. $(\alpha = \beta\gamma\beta)$ where
$\beta,\gamma \in \supsym$.  The total number of occurrences of any
given symbol in $\alpha$ is twice the number of occurrences of that
symbol in $\beta$ plus the number of occurrences in $\gamma$.  So the
total number of occurrences of each symbol that appears in $\alpha$ is
an even number plus the number of times it appears in $\gamma$.  But
$\gamma \in \supsym$, so only one symbol occurs an odd number of times
in $\gamma$, and this is the single symbol that occurs an odd number
of times in $\alpha$.  This proves $P(\alpha)$, as required.
\end{proof}
\end{solution}

\eparts
\end{problem}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
