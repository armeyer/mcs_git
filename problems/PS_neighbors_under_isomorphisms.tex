\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_neighbors_under_isomorphisms}
  \pcomment{simple-graph version of PS_digraph_neighbors_under_isomorphisms}
  \pcomment{from: S09.cp6m}
\end{pcomments}

\pkeywords{
  simple_graph
  isomorphisms
  degree
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
\bparts

\ppart\label{fhat} For any vertex $v$ in a graph, let $\neighbors{v}$ be
the set of \term{neighbors} of $v$, namely, the vertices adjacent to $v$:
\[
\neighbors{v} \eqdef \set{u \suchthat \edge{u}{v}\text{ is an edge of the
graph}}.
\]

Suppose $f$ is an isomorphism from graph $G$ to graph $H$.
Prove that $f(\neighbors{v}) = \neighbors{f(v)}$ for each vertex $v$ of $G$. In other words, if $f$ maps vertex $v$ to vertex $w = f(v)$, then $f$ maps the set of $v$'s neighbors to precisely the set of $w$'s neighbors.

Your proof should follow by simple reasoning using the definitions of
isomorphism and neighbors---no pictures or handwaving.

\hint Prove by a chain of iff's that
\[
h \in \neighbors{f(v)} \qiff h \in f(\neighbors{v})
\]
for every $h \in V_H$.  Use the fact that $h=f(u)$ for some $u \in V_G$ (why is this true?).

\begin{solution}
\begin{proof}
Suppose $h \in V_H$.  By definition of isomorphism, there is a
  unique $u \in V_G$ such that $f(u)=h$.  Then
\begin{align*}
h \in \neighbors{f(v)}
    & \qiff \edge{h}{f(v)} \in E_H          & \text{(def of $\neighbors{}$)}\\
    & \qiff \edge{f(u)}{f(v)} \in E_H       & \text{(def of $u$)}\\
    & \qiff \edge{u}{v} \in E_V             & \text{(since $f$ is an isomorphism)}\\
    & \qiff u \in \neighbors{v}                      & \text{(def of $\neighbors{}$)}\\
    & \qiff f(u) \in f(\neighbors{v})                & \text{(def of $f$-image)}\\
    & \qiff h \in f(\neighbors{v})                   & \text{(def of $u$)}
\end{align*}
So $\neighbors{f(v)}$ and $f(\neighbors{v})$ have the same members and therefore are equal.

\end{proof}
\end{solution}

\examspace[3.5in]

\ppart Conclude that if $G$ and $H$ are isomorphic graphs, then for each
$k \in \nngint$, they have the same number of degree $k$ vertices.

\begin{solution}
By definition, $\degr{v}= \card{\neighbors{v}}$.  Since an isomorphism
is a bijection, any set of vertices and its image under an isomorphism
will be the same size (by the Mapping Rule Theorem~\bref{maprul_thm}),
so part~\eqref{fhat} implies that an isomorphism $f$ maps degree $k$
vertices to degree $k$ vertices.  This means that the image under $f$
of the set of degree $k$ vertices of $G$ is precisely the set of
degree $k$ vertices of $H$.  So by the Mapping Rule again, there are
the same number of degree $k$ vertices in $G$ and $H$.
\end{solution}

\eparts

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
